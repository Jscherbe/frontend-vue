import{d as r,F as V,x as $,o as l,a as j,w as h,v as S,f as B,n as f,j as b,t as g,e as C,b as A,_ as E,N as T,l as M}from"./iframe-ULHYlDKO.js";import{a as w,_ as z,u as D}from"./UluFacetsFilterAccordions-CQbKAkp9.js";import{_ as I}from"./UluCollapsible-65VFlqXs.js";import{_ as W}from"./UluSelectableMenu-_rSRNf-s.js";import{m as x}from"./_mock-data-euri91_s.js";import"./preload-helper-BJwshlQW.js";import"./UluAccordion-DMrXeMoi.js";const q={class:"facets-filters"},P={__name:"UluFacetsFilterLists",props:{classes:{type:Object,default:()=>({})},maxVisible:{type:Number,default:5},facets:{type:Array,default:()=>[]},compact:Boolean},emits:["facet-change"],setup(t,{emit:p}){const u=p,m=o=>o.multiple?o.children.filter(n=>n.selected).map(n=>n.uid):o.children.find(n=>n.selected)?.uid||"";return(o,n)=>(l(),r("div",q,[(l(!0),r(V,null,$(t.facets,c=>(l(),j(I,{key:c.uid,classes:{container:["facets-filters__group",t.classes.group],containerOpen:["facets-filters__group--open",t.classes.groupOpen],containerClosed:["facets-filters__group--closed",t.classes.groupClosed],trigger:["facets-filters__group-trigger",t.classes.groupTrigger],content:["facets-filters__group-content",t.classes.groupContent]},startOpen:c.open},{trigger:h(({isOpen:e})=>[C(o.$slots,"groupTrigger",{group:c,isOpen:e},()=>[b(g(c.name),1)])]),default:h(()=>[S(w,{children:c.children.slice(0,t.maxVisible),groupUid:c.uid,groupName:c.name,type:c.multiple?"checkbox":"radio",compact:t.compact,"model-value":m(c),onFacetChange:n[0]||(n[0]=e=>u("facet-change",e))},null,8,["children","groupUid","groupName","type","compact","model-value"]),c.children.length>t.maxVisible?(l(),j(I,{key:0,class:f(["facets-filters__more-facets",t.classes.moreFacets])},{trigger:h(({isOpen:e})=>[b(g(e?"View Less":"Show More"),1)]),default:h(()=>[S(w,{children:c.children.slice(t.maxVisible),groupUid:c.uid,groupName:c.name,type:c.multiple?"checkbox":"radio",compact:t.compact,"model-value":m(c),onFacetChange:n[1]||(n[1]=e=>u("facet-change",e))},null,8,["children","groupUid","groupName","type","compact","model-value"])]),_:2},1032,["class"])):B("",!0)]),_:2},1032,["classes","startOpen"]))),128))]))}};P.__docgenInfo={exportName:"default",displayName:"UluFacetsFilterLists",description:"",tags:{},props:[{name:"classes",description:"An object of classes to apply to the component.",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"maxVisible",description:'The maximum number of facets to show before showing the "More" button.',type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"facets",description:"An array of facet groups to display.",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"compact",description:"Whether to use compact modifier on selectable menu",type:{name:"boolean"}}],events:[{name:"facet-change"}],slots:[{name:"groupTrigger",scoped:!0,bindings:[{name:"group",title:"binding"},{name:"isOpen",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/facets/UluFacetsFilterLists.vue"]};const k={__name:"UluFacetsFilterPopovers",props:{facets:{type:Array,default:()=>[]},classes:{type:Object,default:()=>({trigger:"button",triggerIcon:"button__icon"})},hideInputs:Boolean},emits:["facet-change"],setup(t,{emit:p}){const u=p,m=e=>e.multiple?e.children:[{label:`All ${e.name}s`,uid:""},...e.children],o=e=>e.multiple?e.children.filter(a=>a.selected).map(a=>a.uid):e.children.find(a=>a.selected)?.uid||"",n=e=>{const a=e.children.filter(i=>i.selected),s=a.length;return s===0?"All":e.multiple?s===1?a[0].label:`${s} selected`:a[0].label};function c(e,a,s){if(e.multiple){const i=new Set(a);e.children.forEach(d=>{const y=i.has(d.uid);d.selected!==y&&u("facet-change",{groupUid:e.uid,facetUid:d.uid,selected:y})})}else{const i=a;e.children.forEach(d=>{const y=d.uid===i;d.selected!==y&&u("facet-change",{groupUid:e.uid,facetUid:d.uid,selected:y})}),s()}}return(e,a)=>(l(),r("div",{class:f(t.classes.container)},[(l(!0),r(V,null,$(t.facets,s=>(l(),r("div",{key:s.uid,class:f(t.classes.group)},[S(T,{classes:{trigger:t.classes.trigger,content:t.classes.content}},{trigger:h(()=>[C(e.$slots,"trigger",{group:s,label:n(s)},()=>[A("span",null,[b(g(s.name)+": ",1),A("strong",null,g(n(s)),1)])]),S(E,{class:f(t.classes.triggerIcon),icon:"fas fa-chevron-down"},null,8,["class"])]),default:h(({close:i})=>[S(W,{legend:s.name,type:s.multiple?"checkbox":"radio",options:m(s),"model-value":o(s),"onUpdate:modelValue":d=>c(s,d,i),hideInputs:t.hideInputs},null,8,["legend","type","options","model-value","onUpdate:modelValue","hideInputs"])]),_:2},1032,["classes"])],2))),128))],2))}};k.__docgenInfo={exportName:"default",displayName:"UluFacetsFilterPopovers",description:"",tags:{},props:[{name:"facets",description:"An array of facet groups to display.",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"classes",description:"An object of classes to apply to the component.",type:{name:"object"},defaultValue:{func:!1,value:`{
  trigger: "button",

  // content: null,
  // container: null,
  // group: null
  triggerIcon: "button__icon"
}`}},{name:"hideInputs",description:"If true, the input elements will be visually hidden.",type:{name:"boolean"}}],events:[{name:"facet-change"}],slots:[{name:"trigger",scoped:!0,bindings:[{name:"group",title:"binding"},{name:"label",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/facets/UluFacetsFilterPopovers.vue"]};const G=["for"],H=["id","onChange"],J={value:""},K=["value","selected"],O={__name:"UluFacetsFilterSelects",props:{facets:{type:Array,default:()=>[]},classes:{type:Object,default:()=>({})}},emits:["facet-change"],setup(t,{emit:p}){console.log(t);const m=p;function o(n,c){const e=c.target.value;n.children.find(s=>s.selected)?.uid!==e&&n.children.forEach(s=>{const i=s.uid===e;s.selected!==i&&m("facet-change",{groupUid:n.uid,facetUid:s.uid,selected:i})})}return(n,c)=>(l(),r("div",{class:f(["facets-dropdown-filters",t.classes.container])},[(l(!0),r(V,null,$(t.facets,e=>(l(),r("div",{class:f(["facets-dropdown-filters__group",t.classes.group]),key:e.uid},[A("label",{for:`facet-dropdown-${e.uid}`,class:f(["facets-dropdown-filters__label",t.classes.label])},[C(n.$slots,"label",{},()=>[b(g(e.name),1)])],10,G),A("select",{id:`facet-dropdown-${e.uid}`,class:f(["facets-dropdown-filters__select",t.classes.select]),onChange:a=>o(e,a)},[A("option",J,[C(n.$slots,"optionAll",{group:e},()=>[b(" All "+g(e.name)+"s ",1)])]),(l(!0),r(V,null,$(e.children,(a,s)=>(l(),r("option",{key:a.uid,value:a.uid,selected:a.selected},[C(n.$slots,"option",{group:e,option:a,index:s},()=>[b(g(a.label),1)])],8,K))),128))],42,H)],2))),128))],2))}};O.__docgenInfo={exportName:"default",displayName:"UluFacetsFilterSelects",description:"",tags:{},props:[{name:"facets",description:"Facets Array",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"classes",description:"Optional classes bindings for all elements { container, group, label, select }",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"facet-change"}],slots:[{name:"label"},{name:"optionAll",scoped:!0,bindings:[{name:"group",title:"binding"}]},{name:"option",scoped:!0,bindings:[{name:"group",title:"binding"},{name:"option",title:"binding"},{name:"index",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/facets/UluFacetsFilterSelects.vue"]};const se={},N=[{name:"Category",uid:"category",open:!0,multiple:!0},{name:"Author",uid:"author",open:!0}],L=t=>{const p=M(t.items),{facets:u,handleFacetChange:m}=D(p,{facetFields:t.facetFields});return{args:t,facets:u,handleFacetChange:m}},U=t=>({components:{UluFacetsFilterAccordions:z},setup:()=>L(t),template:'<UluFacetsFilterAccordions :facets="facets" @facet-change="handleFacetChange" />'});U.args={items:x,facetFields:N};const F=t=>({components:{UluFacetsFilterLists:P},setup:()=>L(t),template:'<UluFacetsFilterLists :facets="facets" @facet-change="handleFacetChange" />'});F.args={items:x,facetFields:N};F.storyName="Filter Lists (Unstyled)";const v=t=>({components:{UluFacetsFilterSelects:O},setup:()=>L(t),template:`
    <UluFacetsFilterSelects 
      :facets="facets" 
      @facet-change="handleFacetChange" 
      :classes="{ 
        'container' : 'form-theme',
        'group' : 'form-theme__item form-theme__item--select' 
      }" 
    />
  `});v.args={items:x,facetFields:N};const _=t=>({components:{UluFacetsFilterPopovers:k},setup:()=>L(t),template:'<UluFacetsFilterPopovers :facets="facets" @facet-change="handleFacetChange" />'});_.args={items:x,facetFields:N};U.parameters={...U.parameters,docs:{...U.parameters?.docs,source:{originalSource:`args => ({
  components: {
    UluFacetsFilterAccordions
  },
  setup: () => defaultSetup(args),
  template: \`<UluFacetsFilterAccordions :facets="facets" @facet-change="handleFacetChange" />\`
})`,...U.parameters?.docs?.source}}};F.parameters={...F.parameters,docs:{...F.parameters?.docs,source:{originalSource:`args => ({
  components: {
    UluFacetsFilterLists
  },
  setup: () => defaultSetup(args),
  template: \`<UluFacetsFilterLists :facets="facets" @facet-change="handleFacetChange" />\`
})`,...F.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`args => ({
  components: {
    UluFacetsFilterSelects
  },
  setup: () => defaultSetup(args),
  template: \`
    <UluFacetsFilterSelects 
      :facets="facets" 
      @facet-change="handleFacetChange" 
      :classes="{ 
        'container' : 'form-theme',
        'group' : 'form-theme__item form-theme__item--select' 
      }" 
    />
  \`
})`,...v.parameters?.docs?.source}}};_.parameters={..._.parameters,docs:{..._.parameters?.docs,source:{originalSource:`args => ({
  components: {
    UluFacetsFilterPopovers
  },
  setup: () => defaultSetup(args),
  template: \`<UluFacetsFilterPopovers :facets="facets" @facet-change="handleFacetChange" />\`
})`,..._.parameters?.docs?.source}}};const ae=["FilterAccordions","FilterLists","FilterSelects","FilterPopovers"];export{U as FilterAccordions,F as FilterLists,_ as FilterPopovers,v as FilterSelects,ae as __namedExportsOrder,se as default};
