import{arrayCreate as B}from"@ulu/utils/array.js";import{createElementBlock as u,openBlock as d,Fragment as w,renderList as y,normalizeStyle as v,normalizeClass as b,createBlock as A,resolveDynamicComponent as z,withCtx as g,renderSlot as h,createTextVNode as S,toDisplayString as H,resolveComponent as U,createCommentVNode as _,createElementVNode as m,createVNode as L,createSlots as C,normalizeProps as p,guardReactiveProps as k,withDirectives as N,vShow as M}from"vue";import{a as E}from"./iframe-B-E22KK1.js";import{debounce as D}from"@ulu/utils/performance.js";import{runAfterFramePaint as I}from"@ulu/utils/browser/performance.js";import q from"lodash-es/cloneDeep.js";import"./preload-helper-BJwshlQW.js";import"vue-router";import"@floating-ui/vue";import"@ulu/utils/templating.js";import"@ulu/utils/browser/dom.js";import"@ulu/frontend";const O={name:"UluTableStickyRows",props:{rows:Array,rowColumns:Array,columnWidth:String,optionalAttr:Function,resolveClasses:Function,getCellHeaders:Function,value:Function,isActual:Boolean,classes:Object,foot:{type:Boolean,default:!1}}},Y=["id"],G=["innerHTML"];function J(t,s,e,o,a,l){return d(!0),u(w,null,y(e.rows,(c,i)=>(d(),u("tr",{key:`br-${i}`,id:e.optionalAttr(e.isActual&&c.id),class:b(e.resolveClasses(e.classes.row,{row:c.data,rowIndex:i,isActual:e.isActual,foot:e.foot})),style:v({height:c.height})},[(d(!0),u(w,null,y(e.rowColumns,(n,r)=>(d(),A(z(n.rowHeader?"th":"td"),{id:e.optionalAttr(e.isActual&&n.rowHeader&&n.getRowHeaderId(i)),scope:e.optionalAttr(e.isActual&&n.rowHeader&&"row"),key:`bc-${r}`,headers:e.optionalAttr(e.isActual&&e.getCellHeaders(n,i)),class:b(e.resolveClasses(n.class,{column:n,index:r,isActual:e.isActual,row:c,rowIndex:i,foot:e.foot})),style:v({width:e.columnWidth})},{default:g(()=>[t.$slots[n.slot]?h(t.$slots,n.slot,{key:0,row:c.data,column:n,rowIndex:i,index:r,foot:e.foot,isActual:e.isActual}):n.html?(d(),u("div",{key:1,innerHTML:e.value({row:c,column:n,rowIndex:i,isActual:e.isActual,foot:e.foot})},null,8,G)):(d(),u(w,{key:2},[S(H(e.value({row:c,column:n,rowIndex:i,isActual:e.isActual,foot:e.foot})),1)],64))]),_:2},1032,["id","scope","headers","class","style"]))),128))],14,Y))),128)}const K=E(O,[["render",J]]);O.__docgenInfo={displayName:"UluTableStickyRows",exportName:"default",description:"",tags:{},props:[{name:"rows",type:{name:"array"}},{name:"rowColumns",type:{name:"array"}},{name:"columnWidth",type:{name:"string"}},{name:"optionalAttr",type:{name:"func"}},{name:"resolveClasses",type:{name:"func"}},{name:"getCellHeaders",type:{name:"func"}},{name:"value",type:{name:"func"}},{name:"isActual",type:{name:"boolean"}},{name:"classes",type:{name:"object"}},{name:"foot",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"column.slot",scoped:!0,bindings:[{name:"name",title:"binding"},{name:"row",title:"binding"},{name:"column",title:"binding"},{name:"rowIndex",title:"binding"},{name:"index",title:"binding"},{name:"foot",title:"binding"},{name:"isActual",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/table-sticky/UluTableStickyRows.vue"]};const V={name:"UluTableStickyTable",components:{UluTableStickyRows:K},props:{resolveClasses:Function,classes:{type:Object,default:()=>({})},caption:String,idPrefix:String,headerRows:{type:Array,required:!0},rows:Array,footerRows:Array,rowColumns:Array,isActual:{type:Boolean},columnWidth:{type:String},getRowValue:{type:Function,default:({row:t,column:s})=>t[s.key]},getColumnTitle:{type:Function,default:({column:t})=>t.title}},data(){return{headerRefs:{}}},methods:{handleSortFocus(t,s){this.isActual&&(t.sortFocused=s)},addHeaderRef(t,s){const{headerRefs:e,isActual:o}=this;if(!o||!s)return;const{id:a}=t,l=e[a];l&&this.$emit("actual-header-removed",l),this.$emit("actual-header-added",s),e[a]=s},optionalAttr(t){return t||null},value({row:t,column:s,rowIndex:e}){const o=s.value;return o?o({row:t.data,column:s,rowIndex:e}):this.getRowValue({row:t.data,column:s,rowIndex:e})},getCellHeaders(t,s){const e=t.headers.join(" "),o=t.getRowHeaders(s),a=o.length?" ":"";return`${e}${a}${o}`},getHeaderHeaders(t){const s=t.headers.filter(e=>e!==t.id);if(s.length)return s.join(" ")}}},Q=["aria-hidden"],Z={key:0,class:"table-sticky__caption"},$=["id"],ee=["id","rowspan","colspan","data-child-columns","aria-sort","scope","headers"],te=["innerHTML"],se={class:"table-sticky__sort-icon","aria-hidden":"true"},le={class:"table-sticky__sort-icon-inner"},oe=["innerHTML"],ae={key:1},re={key:2};function ne(t,s,e,o,a,l){const c=U("UluTableStickyRows");return d(),u("table",{class:b(e.resolveClasses(e.classes.table,{isActual:e.isActual})),"aria-hidden":e.isActual?"false":"true"},[e.caption?(d(),u("caption",Z,H(e.caption),1)):_("",!0),m("thead",null,[(d(!0),u(w,null,y(e.headerRows,(i,n)=>(d(),u("tr",{key:`hr-${n}`,id:l.optionalAttr(e.isActual&&i.id),class:b(e.resolveClasses(e.classes.rowHeader,{row:i,rowIndex:n,isActual:e.isActual})),style:v({height:i.height})},[(d(!0),u(w,null,y(i.columns,(r,f)=>(d(),u("th",{key:`hc-${f}`,id:l.optionalAttr(e.isActual&&r.id),rowspan:r.rowspan,colspan:r.colspan,"data-child-columns":r.columns&&r.columns.length,class:b([{"sort-active":r.sortApplied,"sort-ascending":r.sortApplied&&r.sortAscending,"sort-descending":r.sortApplied&&!r.sortAscending},e.resolveClasses(r.classHeader,{column:r,index:f,isActual:e.isActual})]),style:v({width:r.width}),"aria-sort":r.sort?r.sortAscending?"ascending":"descending":null,scope:l.optionalAttr(e.isActual&&(r.colspan>1?"colgroup":"col")),headers:l.optionalAttr(e.isActual&&l.getHeaderHeaders(r,n)),ref_for:!0,ref:T=>l.addHeaderRef(r,T)},[r.sortable?(d(),A(z(e.isActual?"button":"div"),{key:0,class:b(["table-sticky__sort-button",{"table-sticky__sort-button--focused":r.sortFocused}]),onClick:T=>t.$emit("column-sorted",r),onFocus:T=>l.handleSortFocus(r,!0),onBlur:T=>l.handleSortFocus(r,!1),"aria-pressed":r.sortApplied?"true":"false"},{default:g(()=>[t.$slots[r.slotHeader]?h(t.$slots,r.slotHeader,{key:0,isActual:e.isActual,column:r,index:f}):r.htmlTitle?(d(),u("div",{key:1,innerHTML:e.getColumnTitle({column:r,index:f,isActual:e.isActual})},null,8,te)):(d(),u(w,{key:2},[S(H(e.getColumnTitle({column:r,index:f,isActual:e.isActual})),1)],64)),m("span",se,[m("span",le,[h(t.$slots,"sortIcon",{},()=>[s[0]||(s[0]=S("▼",-1))])])])]),_:2},1064,["class","onClick","onFocus","onBlur","aria-pressed"])):(d(),u(w,{key:1},[t.$slots[r.slotHeader]?h(t.$slots,r.slotHeader,{key:0,isActual:e.isActual,column:r,index:f}):r.htmlTitle?(d(),u("div",{key:1,innerHTML:e.getColumnTitle({column:r,index:f,isActual:e.isActual})},null,8,oe)):(d(),u(w,{key:2},[S(H(e.getColumnTitle({column:r,index:f,isActual:e.isActual})),1)],64))],64))],14,ee))),128))],14,$))),128))]),e.rows?(d(),u("tbody",ae,[L(c,{rows:e.rows,rowColumns:e.rowColumns,optionalAttr:l.optionalAttr,resolveClasses:e.resolveClasses,getCellHeaders:l.getCellHeaders,isActual:e.isActual,columnWidth:e.columnWidth,classes:e.classes,value:l.value},C({_:2},[y(t.$slots,(i,n)=>({name:n,fn:g(r=>[h(t.$slots,n,p(k(r)))])}))]),1032,["rows","rowColumns","optionalAttr","resolveClasses","getCellHeaders","isActual","columnWidth","classes","value"])])):_("",!0),e.footerRows?(d(),u("tfoot",re,[L(c,{rows:e.footerRows,rowColumns:e.rowColumns,optionalAttr:l.optionalAttr,resolveClasses:e.resolveClasses,getCellHeaders:l.getCellHeaders,isActual:e.isActual,columnWidth:e.columnWidth,classes:e.classes,value:l.value,foot:""},C({_:2},[y(t.$slots,(i,n)=>({name:n,fn:g(r=>[h(t.$slots,n,p(k(r)))])}))]),1032,["rows","rowColumns","optionalAttr","resolveClasses","getCellHeaders","isActual","columnWidth","classes","value"])])):_("",!0)],10,Q)}const ie=E(V,[["render",ne]]);V.__docgenInfo={displayName:"UluTableStickyTable",exportName:"default",description:"",tags:{},props:[{name:"resolveClasses",type:{name:"func"}},{name:"classes",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"caption",type:{name:"string"}},{name:"idPrefix",type:{name:"string"}},{name:"headerRows",type:{name:"array"},required:!0},{name:"rows",type:{name:"array"}},{name:"footerRows",type:{name:"array"}},{name:"rowColumns",type:{name:"array"}},{name:"isActual",description:"Is the actual table not a clone for sticky headers",type:{name:"boolean"}},{name:"columnWidth",type:{name:"string"}},{name:"getRowValue",description:"Optional user overridden value getter (for rows)",tags:{params:[{title:"param",type:{name:"Object"},name:"row",description:"The current row"},{title:"param",type:{name:"Object"},name:"column",description:"The current column in the row"}]},type:{name:"func"},defaultValue:{func:!0,value:"({ row, column }) => row[column.key]"}},{name:"getColumnTitle",description:"Optional user overridden value getter (for rows)",tags:{params:[{title:"param",type:{name:"Object"},name:"row",description:"The current row"},{title:"param",type:{name:"Object"},name:"column",description:"The current column in the row"}]},type:{name:"func"},defaultValue:{func:!0,value:"({ column }) => column.title"}}],events:[{name:"column-sorted"},{name:"actual-header-removed",type:{names:["undefined"]}},{name:"actual-header-added",type:{names:["undefined"]}}],slots:[{name:"column.slotHeader",scoped:!0,bindings:[{name:"name",title:"binding"},{name:"isActual",title:"binding"},{name:"column",title:"binding"},{name:"index",title:"binding"}]},{name:"sortIcon"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/table-sticky/UluTableStickyTable.vue"]};const F=t=>t.every(s=>typeof s=="object"),P=!0,j=()=>window.innerWidth;let W=j();const x={name:"UluTableSticky",components:{UluTableStickyTable:ie},props:{allowClickClones:Boolean,classes:{type:Object,default:()=>({})},controlsComponent:Object,getRowValue:Function,getColumnTitle:Function,caption:{type:String,required:P},columns:{type:Array,validator:F,required:P},firstColumnSticky:Boolean,idPrefix:{type:String,default:"DT"},rows:{type:Array,validator:F},footerRows:{type:Array,validator:F},scrollControls:Boolean,scrollContext:{default:()=>window},scrollControlAmount:{type:Number,default:100}},data(){const t=this.createColumns();return{currentColumns:t,currentRows:this.createRows(),currentFooterRows:this.createRows(!0),headerRows:this.createHeaderRows(t),sizesCalculated:!1,tableWidth:"auto",resizeHandler:D(this.onResize.bind(this),500,!0),resizing:!1,overflownX:!1,canScrollLeft:!1,canScrollRight:!1,displayY:null,sizesPainted:!1,columnResizeObserver:new ResizeObserver(()=>this.onColumnResize())}},watch:{columns:{handler(){this.currentColumns=this.createColumns(),this.headerRows=this.createHeaderRows(this.currentColumns),this.refresh()},deep:!0},rows:{handler(){this.currentRows=this.createRows(),this.refresh()},deep:!0},footerRows:{handler(){this.currentFooterRows=this.createRows(!0),this.refresh()},deep:!0}},computed:{controlsShown(){return this.scrollControls&&this.overflownX},headerVisibleX(){return this.sizesCalculated&&this.overflownX},headerOpacityX(){return this.headerVisibleX?"1":"0"},rowColumns(){const t=this.currentColumns,s=[],e=a=>{a.columns?a.columns.forEach(e):s.push(a)};t.forEach(e);let o=[];return s.forEach((a,l)=>{const c=o.slice();a.getRowHeaders=i=>c.map(n=>n(i)).join(" "),a.rowHeader&&(a.getRowHeaderId=i=>`${this.idPrefix}-rh-${i}-${l}`,o.push(a.getRowHeaderId))}),s},headerHeight(){return this.headerRows.reduce((t,s)=>t+s.boxHeight,0)},headerRowsFirst(){const t=this.headerRows[0],e=[Object.assign({},t.columns[0],{rowspan:1,colspan:1})];return[{...t,columns:e,boxHeight:this.headerHeight,height:`${this.headerHeight}px`}]},rowColumnsFirst(){return[this.rowColumns[0]]},firstColumnSize(){const t=this.headerRowsFirst[0].height;return{width:this.headerRows[0].columns[0].width,height:t}}},methods:{resetSorts(t){const s=e=>{e.forEach(o=>{t.key!==o.key&&(o.sortApplied=!1,o.sortAscending=!1),o.columns&&s(o.columns)})};s(this.currentColumns)},applySort(t){this.resetSorts(t),t.sortApplied?t.sortAscending=!t.sortAscending:t.sortApplied=!0,this.$emit("column-sort",t)},onColumnResize(){this.sizesPainted&&this.refresh()},headerAdded(t){this.columnResizeObserver.observe(t)},headerRemoved(t){this.columnResizeObserver.unobserve(t)},resolveClasses(t,s=null){if(!(typeof t>"u"))return typeof t=="function"?t(s):t},syncScrollLeft(){const t=this.$refs.display.scrollLeft;this.$refs.header.$el.style.transform=`translateX(-${t}px)`},checkOverflowX(){this.overflownX=this.$refs.display.scrollWidth>this.$refs.display.clientWidth},checkScrollability(){if(!this.overflownX)return;const t=this.$refs.display;this.canScrollLeft=t.scrollLeft>0,this.canScrollRight=t.clientWidth+t.scrollLeft<t.scrollWidth},createColumns(){const t=this.idCreator("c"),s=q(this.columns),e=(o,a)=>{o.id=t(),o.parent=a,o.width="auto",o.boxWidth=null,o.sortApplied=!1,o.sortAscending=!1,o.sortFocused=!1;let l=[];a&&(a.headers&&a.headers.length?l=[...a.headers]:l.push(a.id)),l.push(o.id),o.headers=l,o.columns?o.columns.forEach(c=>e(c,o)):!o.key&&!o.value&&!o.slot&&console.warn("UluTableSticky: Missing 'key', 'value' or 'slot' in column configuration for",o)};return s.forEach(o=>e(o,null)),s},createHeaderRows(t){const s=this.idCreator("hr"),e=t.reduce(this.maxColumnChildren,1),o="auto",a=new Array(e).fill(null).map(()=>({height:o,boxHeight:null,columns:[],id:s()}));function l(c,i){const n=i.columns;n&&n.forEach(r=>l(1+c,r)),i.rowspan=n?1:e-c,i.colspan=n?n.reduce((r,f)=>r+f.colspan,0):1,a[c].columns.push(i)}return t.forEach(c=>l(0,c)),a},createRows(t){const s=this.idCreator(t?"fr":"br"),e=t?this.footerRows:this.rows;return e?e.map(o=>({height:null,boxHeight:null,data:o,id:s()})):[]},onResize(){const t=j();W!==t&&(W=t,this.resizing?(this.resizing=!1,this.setTableSizes(),this.checkOverflowX(),this.syncScrollLeft()):(this.resizing=!0,this.removeTableSizes()))},refresh(){this.removeTableSizes(),this.$nextTick(()=>{this.setTableSizes(),this.checkOverflowX(),this.checkScrollability(),this.syncScrollLeft()})},onScrollX(){this.checkScrollability(),this.syncScrollLeft()},idCreator(t){let s=0;return()=>`${this.idPrefix}-${t}-${++s}`},maxColumnChildren(t,s){const e=s.columns?s.columns.reduce(this.maxColumnChildren)+1:1;return t>e?t:e},attachHandlers(){this.handlerScrollX=this.onScrollX,this.$refs.display.addEventListener("scroll",this.handlerScrollX),this.scrollContext.addEventListener("touchmove",this.handlerScrollY),window.addEventListener("resize",this.resizeHandler)},removeHandlers(){this.$refs.display.removeEventListener("scroll",this.handlerScrollX),this.scrollContext.removeEventListener("scroll",this.handlerScrollY),this.scrollContext.addEventListener("touchmove",this.handlerScrollY),window.removeEventListener("resize",this.resizeHandler)},removeTableSizes(){this.sizesPainted=!1,this.sizesCalculated=!1;const t=s=>{s.boxHeight=null,s.height="auto"};this.tableWidth="auto",this.headerRows.forEach(s=>{t(s),s.columns.forEach(e=>{e.boxWidth=null,e.width="auto"})}),this.firstColumnSticky&&(this.currentRows.forEach(s=>t(s)),this.currentFooterRows.forEach(s=>t(s)))},scrollLeft(){const t=this.$refs.display,s=t.scrollLeft,e=this.scrollControlAmount,o=s-e;t.scroll({left:o<0?0:o,behavior:"smooth"})},scrollRight(){const t=this.$refs.display,s=t.scrollWidth,e=t.scrollLeft,o=this.scrollControlAmount,a=e+o;t.scroll({left:a>s?t.scrollWidth:a,behavior:"smooth"})},setTableSizes(){const t=(o,a)=>Math.ceil(o.getBoundingClientRect()[a]);this.tableWidth=`${t(this.$refs.table.$el,"width")}px`;const s=o=>document.getElementById(o.id),e=o=>{const a=s(o);a&&(o.boxHeight=t(a,"height"),o.height=`${o.boxHeight}px`)};this.headerRows.forEach(o=>{e(o),o.columns.forEach(a=>{const l=s(a);l&&(a.boxWidth=t(l,"width"),a.width=`${a.boxWidth}px`)})}),this.firstColumnSticky&&(this.currentRows.forEach(o=>e(o)),this.currentFooterRows.forEach(o=>e(o))),this.$nextTick(()=>{this.sizesCalculated=!0,I(()=>{this.sizesPainted=!0})})},tableReady(){this.setTableSizes()}},mounted(){this.attachHandlers(),this.checkOverflowX(),this.checkScrollability()},beforeUnmount(){this.removeHandlers()},unmounted(){this.columnResizeObserver.disconnect(),this.columnResizeObserver=null}},ce={class:"table-sticky__sticky-wrap table-sticky__sticky-wrap--header"},de={class:"table-sticky__header-wrap"},ue={class:"table-sticky__sticky-wrap table-sticky__sticky-wrap--first-column-header"},he={class:"table-sticky__sticky-wrap table-sticky__sticky-wrap--controls"},me={key:2,class:"table-sticky__controls-inner"},fe=["disabled"],ye=["disabled"],be={ref:"display",class:"table-sticky__display"};function we(t,s,e,o,a,l){const c=U("UluTableStickyTable");return d(),u("div",{class:b(["table-sticky",{"table-sticky--overflown-x":a.overflownX,"table-sticky--can-scroll-right":a.canScrollRight,"table-sticky--can-scroll-left":a.canScrollLeft}])},[m("div",ce,[m("div",de,[L(c,{ref:"header",class:"table-sticky__table table-sticky__table--header",classes:e.classes,caption:e.caption,resolveClasses:l.resolveClasses,getColumnTitle:e.getColumnTitle,idPrefix:e.idPrefix,headerRows:a.headerRows,style:v({opacity:a.sizesCalculated?"1":"0",pointerEvents:a.sizesCalculated?"auto":"none",width:a.tableWidth}),onColumnSorted:l.applySort},C({_:2},[y(t.$slots,(i,n)=>({name:n,fn:g(r=>[h(t.$slots,n,p(k(r)))])}))]),1032,["classes","caption","resolveClasses","getColumnTitle","idPrefix","headerRows","style","onColumnSorted"])])]),m("div",ue,[e.firstColumnSticky?(d(),A(c,{key:0,ref:"firstColumnHeader",class:"table-sticky__table table-sticky__table--first-column-header",classes:e.classes,caption:e.caption,resolveClasses:l.resolveClasses,getColumnTitle:e.getColumnTitle,idPrefix:e.idPrefix,headerRows:l.headerRowsFirst,style:v({opacity:l.headerOpacityX,pointerEvents:l.headerVisibleX?"auto":"none"}),onColumnSorted:l.applySort},C({_:2},[y(t.$slots,(i,n)=>({name:n,fn:g(r=>[h(t.$slots,n,p(k(r)))])}))]),1032,["classes","caption","resolveClasses","getColumnTitle","idPrefix","headerRows","style","onColumnSorted"])):_("",!0)]),m("div",he,[N(m("div",{class:b(["table-sticky__controls",l.resolveClasses(e.classes.controls)]),ref:"controls"},[t.$slots.controls?h(t.$slots,"controls",{key:0,scrollLeft:l.scrollLeft,scrollRight:l.scrollRight,canScrollLeft:a.canScrollLeft,canScrollRight:a.canScrollRight}):e.controlsComponent?(d(),A(z(e.controlsComponent),{key:1,scrollLeft:l.scrollLeft,scrollRight:l.scrollRight,canScrollLeft:a.canScrollLeft,canScrollRight:a.canScrollRight},null,8,["scrollLeft","scrollRight","canScrollLeft","canScrollRight"])):(d(),u("div",me,[m("button",{class:b(["table-sticky__control table-sticky__control--left",l.resolveClasses(e.classes.controlButton)]),"aria-label":"Scroll Left",onClick:s[0]||(s[0]=(...i)=>l.scrollLeft&&l.scrollLeft(...i)),disabled:!a.canScrollLeft},[h(t.$slots,"controlLeft",{},()=>[s[2]||(s[2]=S(" ← ",-1))])],10,fe),m("button",{class:b(["table-sticky__control table-sticky__control--right",l.resolveClasses(e.classes.controlButton)]),"aria-label":"Scroll Right",onClick:s[1]||(s[1]=(...i)=>l.scrollRight&&l.scrollRight(...i)),disabled:!a.canScrollRight},[h(t.$slots,"controlRight",{},()=>[s[3]||(s[3]=S(" → ",-1))])],10,ye)]))],2),[[M,l.controlsShown]])]),m("div",be,[L(c,{ref:"table",class:"table-sticky__table table-sticky__table--actual",classes:e.classes,resolveClasses:l.resolveClasses,isActual:"",headerRows:a.headerRows,rows:a.currentRows,footerRows:a.currentFooterRows,rowColumns:l.rowColumns,caption:e.caption,idPrefix:e.idPrefix,getRowValue:e.getRowValue,getColumnTitle:e.getColumnTitle,onVnodeMounted:l.tableReady,onActualHeaderRemoved:l.headerRemoved,onActualHeaderAdded:l.headerAdded,onColumnSorted:l.applySort},C({_:2},[y(t.$slots,(i,n)=>({name:n,fn:g(r=>[h(t.$slots,n,p(k(r)))])}))]),1032,["classes","resolveClasses","headerRows","rows","footerRows","rowColumns","caption","idPrefix","getRowValue","getColumnTitle","onVnodeMounted","onActualHeaderRemoved","onActualHeaderAdded","onColumnSorted"])],512),e.firstColumnSticky?(d(),A(c,{key:0,ref:"firstColumn",class:"table-sticky__table table-sticky__table--first-column",classes:e.classes,resolveClasses:l.resolveClasses,caption:e.caption,headerRows:l.headerRowsFirst,columnWidth:l.firstColumnSize.width,rows:a.currentRows,footerRows:a.currentFooterRows,rowColumns:l.rowColumnsFirst,idPrefix:e.idPrefix,getRowValue:e.getRowValue,getColumnTitle:e.getColumnTitle,style:v({opacity:l.headerOpacityX,pointerEvents:l.headerVisibleX?"auto":"none"}),onColumnSorted:l.applySort},C({_:2},[y(t.$slots,(i,n)=>({name:n,fn:g(r=>[h(t.$slots,n,p(k(r)))])}))]),1032,["classes","resolveClasses","caption","headerRows","columnWidth","rows","footerRows","rowColumns","idPrefix","getRowValue","getColumnTitle","style","onColumnSorted"])):_("",!0)],2)}const X=E(x,[["render",we]]);x.__docgenInfo={displayName:"UluTableSticky",description:`Sticky table component
- Requires separate stylesheet (included in @ulu/frontend)
- Requires lodash/cloneDeep`,tags:{},exportName:"default",props:[{name:"allowClickClones",description:`By default you cannot have interactive items in the cloned sticky header and first column (if set)
this disables that feature. It was set up that way for accessibility`,type:{name:"boolean"}},{name:"classes",description:"Allows user to pass classes object to add custom classes to parts of the component",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"controlsComponent",description:`Allow user to pass components
- Passed the same values as if using a slot
-`,type:{name:"object"}},{name:"getRowValue",description:"Allows user to pass callback to get the row's value",type:{name:"func"}},{name:"getColumnTitle",type:{name:"func"}},{name:"caption",description:"Hidden caption for accessibility",type:{name:"string"}},{name:"columns",description:"Array of column configurations to convert to list output",tags:{property:[{title:"property",type:{name:"Object"},name:"column",description:"A column config"},{title:"property",type:{name:"union",elements:[{name:"String"},{name:"Boolean"}]},name:"column",description:".title The title to output for the column if set to a falsey value nothing will print"},{title:"property",type:{name:"Array"},name:"column",description:".columns Array of child columns"},{title:"property",type:{name:"String"},name:"column",description:".key The key that should be usec to grab column's value from rows"},{title:"property",type:{name:"Function"},name:"column",description:".value A function that returns the column's value used instead of key passed (row, column)"},{title:"property",type:{name:"String"},name:"column",description:".slot Register custom slot name to use as a template for this column. Passing a slot with this name will link them. The slot are passed the ({row, column}). Note this will disable output of the column's value"},{title:"property",type:{name:"String"},name:"column",description:".component Pass a component to use for this columns values (<td>)"},{title:"property",type:{name:"String"},name:"column",description:".componentHeader Pass a component to use for this columns header (<th>)"},{title:"property",type:{name:"String"},name:"column",description:".slotHeader Register custom slot name to use in the header"},{title:"property",type:{name:"String"},name:"column",description:".classHeader Custom class(s) to be set to column <th>"},{title:"property",type:{name:"String"},name:"column",description:".class Custom class(s) to be set to column's value <td>"},{title:"property",type:{name:"String"},name:"column",description:".html Use v-html output for value"},{title:"property",type:{name:"String"},name:"column",description:".rowHeader When this column is printed in the <tbody> it should be a header for the row. Note supports multiple row headers from left to right only. No rowspan support for rowHeaders."}]},type:{name:"array"}},{name:"firstColumnSticky",description:`Whether the first column of the table should be sticky
- Requires that the table's first column header is nested`,type:{name:"boolean"}},{name:"idPrefix",description:"Prefixed used for id generation",type:{name:"string"},defaultValue:{func:!1,value:'"DT"'}},{name:"rows",description:`Array of tables rows (tbody)
- Each row is an object who's value will matched to columns`,type:{name:"array"}},{name:"footerRows",description:"Array of rows for footer (tfoot)",type:{name:"array"}},{name:"scrollControls",description:`Enables the visibility of the scroll controls
- Scroll controls shift the tables x-axis when the table has overflow-x
- Can be templated manually using slot named "controlsButtons", slot needs to create layout and call methods 
  + scope = { scrollLeft, scrollRight, canScrollLeft, canScrollRight }
- Scroll controls are transformed with the header (move down as the user scrolls)`,type:{name:"boolean"}},{name:"scrollContext",description:`Scrollable context DOM Element, if the sticky element is within another
scrolling parent use this to change the scroll activation handler to use a custom
scrollable parent element`,type:{name:"func"},defaultValue:{func:!0,value:"() => SSR ? null : window"}},{name:"scrollControlAmount",description:"Amount to scroll when user uses scroll controls (pixels)",type:{name:"number"},defaultValue:{func:!1,value:"100"}}],events:[{name:"column-sort",type:{names:["undefined"]}}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"controls",scoped:!0,bindings:[{name:"scrollLeft",title:"binding"},{name:"scrollRight",title:"binding"},{name:"canScrollLeft",title:"binding"},{name:"canScrollRight",title:"binding"}]},{name:"controlLeft"},{name:"controlRight"}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/table-sticky/UluTableSticky.vue"]};const ge=[{key:"name",title:"Name"},{title:"Favorites",columns:[{key:"favoriteFruit",title:"Fruit"},{key:"favoriteColor",title:"Favorite Color"},{key:"favoriteFood",title:"Favorite Food"},{key:"favoriteActivity",title:"Favorite Activity"},{key:"favoriteSport",title:"Favorite Sport"},{key:"favoriteSeason",title:"Favorite Season"}]},{key:"size",title:"Size"}],ve=B(10,t=>({name:`Example Name ${t}`,favoriteFruit:"Apple",favoriteColor:"red",favoriteFood:"Chocolate",favoriteActivity:"I have many favorite activities, it can't be reduced to just one.",favoriteSport:"Rocket League",favoriteSeason:"Fall",size:6})),Pe={component:X,tags:["autodocs"]},Ce=t=>({components:{UluTableSticky:X},setup(){return{args:t}},template:'<UluTableSticky class="data-table" v-bind="args"></UluTableSticky>'}),R=Ce.bind({});R.args={columns:ge,rows:ve,caption:"Example Sticky Table",scrollControls:!0};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`args => ({
  components: {
    UluTableSticky
  },
  setup() {
    return {
      args
    };
  },
  template: \`<UluTableSticky class="data-table" v-bind="args"></UluTableSticky>\`
})`,...R.parameters?.docs?.source}}};const We=["Default"];export{R as Default,We as __namedExportsOrder,Pe as default};
