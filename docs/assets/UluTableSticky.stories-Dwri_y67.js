import{a as st}from"./array-CBO3zkTJ.js";import{g as ie,d as f,x as g,F as A,o as h,p as j,n as p,a as V,w as S,e as y,j as F,t as q,r as le,f as B,b,v as Y,Q as P,h as ze,H as x,ar as E,z as ot,ah as nt,A as at}from"./iframe-Dmbn_XAG.js";import{r as it}from"./performance-BDJZxRVF.js";import"./preload-helper-BJwshlQW.js";const Ue={name:"UluTableStickyRows",props:{rows:Array,rowColumns:Array,columnWidth:String,optionalAttr:Function,resolveClasses:Function,getCellHeaders:Function,value:Function,isActual:Boolean,classes:Object,foot:{type:Boolean,default:!1}}},lt=["id"],ct=["innerHTML"];function ut(e,r,t,s,n,o){return h(!0),f(A,null,g(t.rows,(l,c)=>(h(),f("tr",{key:`br-${c}`,id:t.optionalAttr(t.isActual&&l.id),class:p(t.resolveClasses(t.classes.row,{row:l.data,rowIndex:c,isActual:t.isActual,foot:t.foot})),style:j({height:l.height})},[(h(!0),f(A,null,g(t.rowColumns,(i,a)=>(h(),V(le(i.rowHeader?"th":"td"),{id:t.optionalAttr(t.isActual&&i.rowHeader&&i.getRowHeaderId(c)),scope:t.optionalAttr(t.isActual&&i.rowHeader&&"row"),key:`bc-${a}`,headers:t.optionalAttr(t.isActual&&t.getCellHeaders(i,c)),class:p(t.resolveClasses(i.class,{column:i,index:a,isActual:t.isActual,row:l,rowIndex:c,foot:t.foot})),style:j({width:t.columnWidth})},{default:S(()=>[e.$slots[i.slot]?y(e.$slots,i.slot,{key:0,row:l.data,column:i,rowIndex:c,index:a,foot:t.foot,isActual:t.isActual}):i.html?(h(),f("div",{key:1,innerHTML:t.value({row:l,column:i,rowIndex:c,isActual:t.isActual,foot:t.foot})},null,8,ct)):(h(),f(A,{key:2},[F(q(t.value({row:l,column:i,rowIndex:c,isActual:t.isActual,foot:t.foot})),1)],64))]),_:2},1032,["id","scope","headers","class","style"]))),128))],14,lt))),128)}const dt=ie(Ue,[["render",ut]]);Ue.__docgenInfo={displayName:"UluTableStickyRows",exportName:"default",description:"",tags:{},props:[{name:"rows",type:{name:"array"}},{name:"rowColumns",type:{name:"array"}},{name:"columnWidth",type:{name:"string"}},{name:"optionalAttr",type:{name:"func"}},{name:"resolveClasses",type:{name:"func"}},{name:"getCellHeaders",type:{name:"func"}},{name:"value",type:{name:"func"}},{name:"isActual",type:{name:"boolean"}},{name:"classes",type:{name:"object"}},{name:"foot",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"column.slot",scoped:!0,bindings:[{name:"name",title:"binding"},{name:"row",title:"binding"},{name:"column",title:"binding"},{name:"rowIndex",title:"binding"},{name:"index",title:"binding"},{name:"foot",title:"binding"},{name:"isActual",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/table-sticky/UluTableStickyRows.vue"]};const Ie={name:"UluTableStickyTable",components:{UluTableStickyRows:dt},props:{resolveClasses:Function,classes:{type:Object,default:()=>({})},caption:String,idPrefix:String,headerRows:{type:Array,required:!0},rows:Array,footerRows:Array,rowColumns:Array,isActual:{type:Boolean},columnWidth:{type:String},getRowValue:{type:Function,default:({row:e,column:r})=>e[r.key]},getColumnTitle:{type:Function,default:({column:e})=>e.title}},data(){return{headerRefs:{}}},methods:{handleSortFocus(e,r){this.isActual&&(e.sortFocused=r)},addHeaderRef(e,r){const{headerRefs:t,isActual:s}=this;if(!s||!r)return;const{id:n}=e,o=t[n];o&&this.$emit("actual-header-removed",o),this.$emit("actual-header-added",r),t[n]=r},optionalAttr(e){return e||null},value({row:e,column:r,rowIndex:t}){const s=r.value;return s?s({row:e.data,column:r,rowIndex:t}):this.getRowValue({row:e.data,column:r,rowIndex:t})},getCellHeaders(e,r){const t=e.headers.join(" "),s=e.getRowHeaders(r),n=s.length?" ":"";return`${t}${n}${s}`},getHeaderHeaders(e){const r=e.headers.filter(t=>t!==e.id);if(r.length)return r.join(" ")}}},ht=["aria-hidden"],ft={key:0,class:"table-sticky__caption"},mt=["id"],yt=["id","rowspan","colspan","data-child-columns","aria-sort","scope","headers"],bt=["innerHTML"],gt={class:"table-sticky__sort-icon","aria-hidden":"true"},pt={class:"table-sticky__sort-icon-inner"},wt=["innerHTML"],vt={key:1},_t={key:2};function Ct(e,r,t,s,n,o){const l=ze("UluTableStickyRows");return h(),f("table",{class:p(t.resolveClasses(t.classes.table,{isActual:t.isActual})),"aria-hidden":t.isActual?"false":"true"},[t.caption?(h(),f("caption",ft,q(t.caption),1)):B("",!0),b("thead",null,[(h(!0),f(A,null,g(t.headerRows,(c,i)=>(h(),f("tr",{key:`hr-${i}`,id:o.optionalAttr(t.isActual&&c.id),class:p(t.resolveClasses(t.classes.rowHeader,{row:c,rowIndex:i,isActual:t.isActual})),style:j({height:c.height})},[(h(!0),f(A,null,g(c.columns,(a,m)=>(h(),f("th",{key:`hc-${m}`,id:o.optionalAttr(t.isActual&&a.id),rowspan:a.rowspan,colspan:a.colspan,"data-child-columns":a.columns&&a.columns.length,class:p([{"sort-active":a.sortApplied,"sort-ascending":a.sortApplied&&a.sortAscending,"sort-descending":a.sortApplied&&!a.sortAscending},t.resolveClasses(a.classHeader,{column:a,index:m,isActual:t.isActual})]),style:j({width:a.width}),"aria-sort":a.sort?a.sortAscending?"ascending":"descending":null,scope:o.optionalAttr(t.isActual&&(a.colspan>1?"colgroup":"col")),headers:o.optionalAttr(t.isActual&&o.getHeaderHeaders(a,i)),ref_for:!0,ref:H=>o.addHeaderRef(a,H)},[a.sortable?(h(),V(le(t.isActual?"button":"div"),{key:0,class:p(["table-sticky__sort-button",{"table-sticky__sort-button--focused":a.sortFocused}]),onClick:H=>e.$emit("column-sorted",a),onFocus:H=>o.handleSortFocus(a,!0),onBlur:H=>o.handleSortFocus(a,!1),"aria-pressed":a.sortApplied?"true":"false"},{default:S(()=>[e.$slots[a.slotHeader]?y(e.$slots,a.slotHeader,{key:0,isActual:t.isActual,column:a,index:m}):a.htmlTitle?(h(),f("div",{key:1,innerHTML:t.getColumnTitle({column:a,index:m,isActual:t.isActual})},null,8,bt)):(h(),f(A,{key:2},[F(q(t.getColumnTitle({column:a,index:m,isActual:t.isActual})),1)],64)),b("span",gt,[b("span",pt,[y(e.$slots,"sortIcon",{},()=>[r[0]||(r[0]=F("▼",-1))])])])]),_:2},1064,["class","onClick","onFocus","onBlur","aria-pressed"])):(h(),f(A,{key:1},[e.$slots[a.slotHeader]?y(e.$slots,a.slotHeader,{key:0,isActual:t.isActual,column:a,index:m}):a.htmlTitle?(h(),f("div",{key:1,innerHTML:t.getColumnTitle({column:a,index:m,isActual:t.isActual})},null,8,wt)):(h(),f(A,{key:2},[F(q(t.getColumnTitle({column:a,index:m,isActual:t.isActual})),1)],64))],64))],14,yt))),128))],14,mt))),128))]),t.rows?(h(),f("tbody",vt,[Y(l,{rows:t.rows,rowColumns:t.rowColumns,optionalAttr:o.optionalAttr,resolveClasses:t.resolveClasses,getCellHeaders:o.getCellHeaders,isActual:t.isActual,columnWidth:t.columnWidth,classes:t.classes,value:o.value},P({_:2},[g(e.$slots,(c,i)=>({name:i,fn:S(a=>[y(e.$slots,i,x(E(a)))])}))]),1032,["rows","rowColumns","optionalAttr","resolveClasses","getCellHeaders","isActual","columnWidth","classes","value"])])):B("",!0),t.footerRows?(h(),f("tfoot",_t,[Y(l,{rows:t.footerRows,rowColumns:t.rowColumns,optionalAttr:o.optionalAttr,resolveClasses:t.resolveClasses,getCellHeaders:o.getCellHeaders,isActual:t.isActual,columnWidth:t.columnWidth,classes:t.classes,value:o.value,foot:""},P({_:2},[g(e.$slots,(c,i)=>({name:i,fn:S(a=>[y(e.$slots,i,x(E(a)))])}))]),1032,["rows","rowColumns","optionalAttr","resolveClasses","getCellHeaders","isActual","columnWidth","classes","value"])])):B("",!0)],10,ht)}const At=ie(Ie,[["render",Ct]]);Ie.__docgenInfo={displayName:"UluTableStickyTable",exportName:"default",description:"",tags:{},props:[{name:"resolveClasses",type:{name:"func"}},{name:"classes",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"caption",type:{name:"string"}},{name:"idPrefix",type:{name:"string"}},{name:"headerRows",type:{name:"array"},required:!0},{name:"rows",type:{name:"array"}},{name:"footerRows",type:{name:"array"}},{name:"rowColumns",type:{name:"array"}},{name:"isActual",description:"Is the actual table not a clone for sticky headers",type:{name:"boolean"}},{name:"columnWidth",type:{name:"string"}},{name:"getRowValue",description:"Optional user overridden value getter (for rows)",tags:{params:[{title:"param",type:{name:"Object"},name:"row",description:"The current row"},{title:"param",type:{name:"Object"},name:"column",description:"The current column in the row"}]},type:{name:"func"},defaultValue:{func:!0,value:"({ row, column }) => row[column.key]"}},{name:"getColumnTitle",description:"Optional user overridden value getter (for rows)",tags:{params:[{title:"param",type:{name:"Object"},name:"row",description:"The current row"},{title:"param",type:{name:"Object"},name:"column",description:"The current column in the row"}]},type:{name:"func"},defaultValue:{func:!0,value:"({ column }) => column.title"}}],events:[{name:"column-sorted"},{name:"actual-header-removed",type:{names:["undefined"]}},{name:"actual-header-added",type:{names:["undefined"]}}],slots:[{name:"column.slotHeader",scoped:!0,bindings:[{name:"name",title:"binding"},{name:"isActual",title:"binding"},{name:"column",title:"binding"},{name:"index",title:"binding"}]},{name:"sortIcon"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/table-sticky/UluTableStickyTable.vue"]};function St(){this.__data__=[],this.size=0}function We(e,r){return e===r||e!==e&&r!==r}function J(e,r){for(var t=e.length;t--;)if(We(e[t][0],r))return t;return-1}var Tt=Array.prototype,jt=Tt.splice;function Rt(e){var r=this.__data__,t=J(r,e);if(t<0)return!1;var s=r.length-1;return t==s?r.pop():jt.call(r,t,1),--this.size,!0}function kt(e){var r=this.__data__,t=J(r,e);return t<0?void 0:r[t][1]}function Ot(e){return J(this.__data__,e)>-1}function Ht(e,r){var t=this.__data__,s=J(t,e);return s<0?(++this.size,t.push([e,r])):t[s][1]=r,this}function _(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}_.prototype.clear=St;_.prototype.delete=Rt;_.prototype.get=kt;_.prototype.has=Ot;_.prototype.set=Ht;function Pt(){this.__data__=new _,this.size=0}function xt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function Et(e){return this.__data__.get(e)}function Ft(e){return this.__data__.has(e)}var Me=typeof global=="object"&&global&&global.Object===Object&&global,Lt=typeof self=="object"&&self&&self.Object===Object&&self,w=Me||Lt||Function("return this")(),L=w.Symbol,Ve=Object.prototype,zt=Ve.hasOwnProperty,Ut=Ve.toString,W=L?L.toStringTag:void 0;function It(e){var r=zt.call(e,W),t=e[W];try{e[W]=void 0;var s=!0}catch{}var n=Ut.call(e);return s&&(r?e[W]=t:delete e[W]),n}var Wt=Object.prototype,Mt=Wt.toString;function Vt(e){return Mt.call(e)}var Bt="[object Null]",Dt="[object Undefined]",fe=L?L.toStringTag:void 0;function X(e){return e==null?e===void 0?Dt:Bt:fe&&fe in Object(e)?It(e):Vt(e)}function Q(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Nt="[object AsyncFunction]",$t="[object Function]",Xt="[object GeneratorFunction]",Gt="[object Proxy]";function Be(e){if(!Q(e))return!1;var r=X(e);return r==$t||r==Xt||r==Nt||r==Gt}var ee=w["__core-js_shared__"],me=function(){var e=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qt(e){return!!me&&me in e}var Kt=Function.prototype,Yt=Kt.toString;function k(e){if(e!=null){try{return Yt.call(e)}catch{}try{return e+""}catch{}}return""}var Jt=/[\\^$.*+?()[\]{}|]/g,Qt=/^\[object .+?Constructor\]$/,Zt=Function.prototype,er=Object.prototype,tr=Zt.toString,rr=er.hasOwnProperty,sr=RegExp("^"+tr.call(rr).replace(Jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function or(e){if(!Q(e)||qt(e))return!1;var r=Be(e)?sr:Qt;return r.test(k(e))}function nr(e,r){return e?.[r]}function O(e,r){var t=nr(e,r);return or(t)?t:void 0}var N=O(w,"Map"),$=O(Object,"create");function ar(){this.__data__=$?$(null):{},this.size=0}function ir(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var lr="__lodash_hash_undefined__",cr=Object.prototype,ur=cr.hasOwnProperty;function dr(e){var r=this.__data__;if($){var t=r[e];return t===lr?void 0:t}return ur.call(r,e)?r[e]:void 0}var hr=Object.prototype,fr=hr.hasOwnProperty;function mr(e){var r=this.__data__;return $?r[e]!==void 0:fr.call(r,e)}var yr="__lodash_hash_undefined__";function br(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=$&&r===void 0?yr:r,this}function R(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}R.prototype.clear=ar;R.prototype.delete=ir;R.prototype.get=dr;R.prototype.has=mr;R.prototype.set=br;function gr(){this.size=0,this.__data__={hash:new R,map:new(N||_),string:new R}}function pr(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Z(e,r){var t=e.__data__;return pr(r)?t[typeof r=="string"?"string":"hash"]:t.map}function wr(e){var r=Z(this,e).delete(e);return this.size-=r?1:0,r}function vr(e){return Z(this,e).get(e)}function _r(e){return Z(this,e).has(e)}function Cr(e,r){var t=Z(this,e),s=t.size;return t.set(e,r),this.size+=t.size==s?0:1,this}function U(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}U.prototype.clear=gr;U.prototype.delete=wr;U.prototype.get=vr;U.prototype.has=_r;U.prototype.set=Cr;var Ar=200;function Sr(e,r){var t=this.__data__;if(t instanceof _){var s=t.__data__;if(!N||s.length<Ar-1)return s.push([e,r]),this.size=++t.size,this;t=this.__data__=new U(s)}return t.set(e,r),this.size=t.size,this}function I(e){var r=this.__data__=new _(e);this.size=r.size}I.prototype.clear=Pt;I.prototype.delete=xt;I.prototype.get=Et;I.prototype.has=Ft;I.prototype.set=Sr;function Tr(e,r){for(var t=-1,s=e==null?0:e.length;++t<s&&r(e[t],t,e)!==!1;);return e}var ye=function(){try{var e=O(Object,"defineProperty");return e({},"",{}),e}catch{}}();function jr(e,r,t){r=="__proto__"&&ye?ye(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Rr=Object.prototype,kr=Rr.hasOwnProperty;function Or(e,r,t){var s=e[r];(!(kr.call(e,r)&&We(s,t))||t===void 0&&!(r in e))&&jr(e,r,t)}function Hr(e,r){for(var t=-1,s=Array(e);++t<e;)s[t]=r(t);return s}function G(e){return e!=null&&typeof e=="object"}var Pr="[object Arguments]";function be(e){return G(e)&&X(e)==Pr}var De=Object.prototype,xr=De.hasOwnProperty,Er=De.propertyIsEnumerable,Fr=be(function(){return arguments}())?be:function(e){return G(e)&&xr.call(e,"callee")&&!Er.call(e,"callee")},ce=Array.isArray;function Lr(){return!1}var Ne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ge=Ne&&typeof module=="object"&&module&&!module.nodeType&&module,zr=ge&&ge.exports===Ne,pe=zr?w.Buffer:void 0,Ur=pe?pe.isBuffer:void 0,$e=Ur||Lr,Ir=9007199254740991,Wr=/^(?:0|[1-9]\d*)$/;function Mr(e,r){var t=typeof e;return r=r??Ir,!!r&&(t=="number"||t!="symbol"&&Wr.test(e))&&e>-1&&e%1==0&&e<r}var Vr=9007199254740991;function Xe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vr}var Br="[object Arguments]",Dr="[object Array]",Nr="[object Boolean]",$r="[object Date]",Xr="[object Error]",Gr="[object Function]",qr="[object Map]",Kr="[object Number]",Yr="[object Object]",Jr="[object RegExp]",Qr="[object Set]",Zr="[object String]",es="[object WeakMap]",ts="[object ArrayBuffer]",rs="[object DataView]",ss="[object Float32Array]",os="[object Float64Array]",ns="[object Int8Array]",as="[object Int16Array]",is="[object Int32Array]",ls="[object Uint8Array]",cs="[object Uint8ClampedArray]",us="[object Uint16Array]",ds="[object Uint32Array]",d={};d[ss]=d[os]=d[ns]=d[as]=d[is]=d[ls]=d[cs]=d[us]=d[ds]=!0;d[Br]=d[Dr]=d[ts]=d[Nr]=d[rs]=d[$r]=d[Xr]=d[Gr]=d[qr]=d[Kr]=d[Yr]=d[Jr]=d[Qr]=d[Zr]=d[es]=!1;function hs(e){return G(e)&&Xe(e.length)&&!!d[X(e)]}function ue(e){return function(r){return e(r)}}var Ge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D=Ge&&typeof module=="object"&&module&&!module.nodeType&&module,fs=D&&D.exports===Ge,te=fs&&Me.process,z=function(){try{var e=D&&D.require&&D.require("util").types;return e||te&&te.binding&&te.binding("util")}catch{}}(),we=z&&z.isTypedArray,ms=we?ue(we):hs,ys=Object.prototype,bs=ys.hasOwnProperty;function gs(e,r){var t=ce(e),s=!t&&Fr(e),n=!t&&!s&&$e(e),o=!t&&!s&&!n&&ms(e),l=t||s||n||o,c=l?Hr(e.length,String):[],i=c.length;for(var a in e)bs.call(e,a)&&!(l&&(a=="length"||n&&(a=="offset"||a=="parent")||o&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||Mr(a,i)))&&c.push(a);return c}var ps=Object.prototype;function qe(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||ps;return e===t}function Ke(e,r){return function(t){return e(r(t))}}var ws=Ke(Object.keys,Object),vs=Object.prototype,_s=vs.hasOwnProperty;function Cs(e){if(!qe(e))return ws(e);var r=[];for(var t in Object(e))_s.call(e,t)&&t!="constructor"&&r.push(t);return r}function As(e){return e!=null&&Xe(e.length)&&!Be(e)}function Ss(e){return As(e)?gs(e):Cs(e)}var Ye=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ve=Ye&&typeof module=="object"&&module&&!module.nodeType&&module,Ts=ve&&ve.exports===Ye,_e=Ts?w.Buffer:void 0;_e&&_e.allocUnsafe;function js(e,r){return e.slice()}function Rs(e,r){for(var t=-1,s=e==null?0:e.length,n=0,o=[];++t<s;){var l=e[t];r(l,t,e)&&(o[n++]=l)}return o}function ks(){return[]}var Os=Object.prototype,Hs=Os.propertyIsEnumerable,Ce=Object.getOwnPropertySymbols,Ps=Ce?function(e){return e==null?[]:(e=Object(e),Rs(Ce(e),function(r){return Hs.call(e,r)}))}:ks;function xs(e,r){for(var t=-1,s=r.length,n=e.length;++t<s;)e[n+t]=r[t];return e}var Es=Ke(Object.getPrototypeOf,Object);function Fs(e,r,t){var s=r(e);return ce(e)?s:xs(s,t(e))}function Ls(e){return Fs(e,Ss,Ps)}var se=O(w,"DataView"),oe=O(w,"Promise"),ne=O(w,"Set"),ae=O(w,"WeakMap"),Ae="[object Map]",zs="[object Object]",Se="[object Promise]",Te="[object Set]",je="[object WeakMap]",Re="[object DataView]",Us=k(se),Is=k(N),Ws=k(oe),Ms=k(ne),Vs=k(ae),v=X;(se&&v(new se(new ArrayBuffer(1)))!=Re||N&&v(new N)!=Ae||oe&&v(oe.resolve())!=Se||ne&&v(new ne)!=Te||ae&&v(new ae)!=je)&&(v=function(e){var r=X(e),t=r==zs?e.constructor:void 0,s=t?k(t):"";if(s)switch(s){case Us:return Re;case Is:return Ae;case Ws:return Se;case Ms:return Te;case Vs:return je}return r});var Bs=Object.prototype,Ds=Bs.hasOwnProperty;function Ns(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&Ds.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var ke=w.Uint8Array;function de(e){var r=new e.constructor(e.byteLength);return new ke(r).set(new ke(e)),r}function $s(e,r){var t=de(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var Xs=/\w*$/;function Gs(e){var r=new e.constructor(e.source,Xs.exec(e));return r.lastIndex=e.lastIndex,r}var Oe=L?L.prototype:void 0,He=Oe?Oe.valueOf:void 0;function qs(e){return He?Object(He.call(e)):{}}function Ks(e,r){var t=de(e.buffer);return new e.constructor(t,e.byteOffset,e.length)}var Ys="[object Boolean]",Js="[object Date]",Qs="[object Map]",Zs="[object Number]",eo="[object RegExp]",to="[object Set]",ro="[object String]",so="[object Symbol]",oo="[object ArrayBuffer]",no="[object DataView]",ao="[object Float32Array]",io="[object Float64Array]",lo="[object Int8Array]",co="[object Int16Array]",uo="[object Int32Array]",ho="[object Uint8Array]",fo="[object Uint8ClampedArray]",mo="[object Uint16Array]",yo="[object Uint32Array]";function bo(e,r,t){var s=e.constructor;switch(r){case oo:return de(e);case Ys:case Js:return new s(+e);case no:return $s(e);case ao:case io:case lo:case co:case uo:case ho:case fo:case mo:case yo:return Ks(e);case Qs:return new s;case Zs:case ro:return new s(e);case eo:return Gs(e);case to:return new s;case so:return qs(e)}}var Pe=Object.create,go=function(){function e(){}return function(r){if(!Q(r))return{};if(Pe)return Pe(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();function po(e){return typeof e.constructor=="function"&&!qe(e)?go(Es(e)):{}}var wo="[object Map]";function vo(e){return G(e)&&v(e)==wo}var xe=z&&z.isMap,_o=xe?ue(xe):vo,Co="[object Set]";function Ao(e){return G(e)&&v(e)==Co}var Ee=z&&z.isSet,So=Ee?ue(Ee):Ao,Je="[object Arguments]",To="[object Array]",jo="[object Boolean]",Ro="[object Date]",ko="[object Error]",Qe="[object Function]",Oo="[object GeneratorFunction]",Ho="[object Map]",Po="[object Number]",Ze="[object Object]",xo="[object RegExp]",Eo="[object Set]",Fo="[object String]",Lo="[object Symbol]",zo="[object WeakMap]",Uo="[object ArrayBuffer]",Io="[object DataView]",Wo="[object Float32Array]",Mo="[object Float64Array]",Vo="[object Int8Array]",Bo="[object Int16Array]",Do="[object Int32Array]",No="[object Uint8Array]",$o="[object Uint8ClampedArray]",Xo="[object Uint16Array]",Go="[object Uint32Array]",u={};u[Je]=u[To]=u[Uo]=u[Io]=u[jo]=u[Ro]=u[Wo]=u[Mo]=u[Vo]=u[Bo]=u[Do]=u[Ho]=u[Po]=u[Ze]=u[xo]=u[Eo]=u[Fo]=u[Lo]=u[No]=u[$o]=u[Xo]=u[Go]=!0;u[ko]=u[Qe]=u[zo]=!1;function K(e,r,t,s,n,o){var l;if(l!==void 0)return l;if(!Q(e))return e;var c=ce(e);if(c)l=Ns(e);else{var i=v(e),a=i==Qe||i==Oo;if($e(e))return js(e);if(i==Ze||i==Je||a&&!n)l=a?{}:po(e);else{if(!u[i])return n?e:{};l=bo(e,i)}}o||(o=new I);var m=o.get(e);if(m)return m;o.set(e,l),So(e)?e.forEach(function(C){l.add(K(C,r,t,C,e,o))}):_o(e)&&e.forEach(function(C,T){l.set(T,K(C,r,t,T,e,o))});var H=Ls,he=c?void 0:H(e);return Tr(he||e,function(C,T){he&&(T=C,C=e[T]),Or(l,T,K(C,r,t,T,e,o))}),l}var qo=1,Ko=4;function Yo(e){return K(e,qo|Ko)}const re=e=>e.every(r=>typeof r=="object"),Fe=!0,et=()=>window.innerWidth;let Le=et();const tt={name:"UluTableSticky",components:{UluTableStickyTable:At},props:{allowClickClones:Boolean,classes:{type:Object,default:()=>({})},controlsComponent:Object,getRowValue:Function,getColumnTitle:Function,caption:{type:String,required:Fe},columns:{type:Array,validator:re,required:Fe},firstColumnSticky:Boolean,idPrefix:{type:String,default:"DT"},rows:{type:Array,validator:re},footerRows:{type:Array,validator:re},scrollControls:Boolean,scrollContext:{default:()=>window},scrollControlAmount:{type:Number,default:100}},data(){const e=this.createColumns();return{currentColumns:e,currentRows:this.createRows(),currentFooterRows:this.createRows(!0),headerRows:this.createHeaderRows(e),sizesCalculated:!1,tableWidth:"auto",resizeHandler:at(this.onResize.bind(this),500,!0),resizing:!1,overflownX:!1,canScrollLeft:!1,canScrollRight:!1,displayY:null,sizesPainted:!1,columnResizeObserver:new ResizeObserver(()=>this.onColumnResize())}},watch:{columns:{handler(){this.currentColumns=this.createColumns(),this.headerRows=this.createHeaderRows(this.currentColumns),this.refresh()},deep:!0},rows:{handler(){this.currentRows=this.createRows(),this.refresh()},deep:!0},footerRows:{handler(){this.currentFooterRows=this.createRows(!0),this.refresh()},deep:!0}},computed:{controlsShown(){return this.scrollControls&&this.overflownX},headerVisibleX(){return this.sizesCalculated&&this.overflownX},headerOpacityX(){return this.headerVisibleX?"1":"0"},rowColumns(){const e=this.currentColumns,r=[],t=n=>{n.columns?n.columns.forEach(t):r.push(n)};e.forEach(t);let s=[];return r.forEach((n,o)=>{const l=s.slice();n.getRowHeaders=c=>l.map(i=>i(c)).join(" "),n.rowHeader&&(n.getRowHeaderId=c=>`${this.idPrefix}-rh-${c}-${o}`,s.push(n.getRowHeaderId))}),r},headerHeight(){return this.headerRows.reduce((e,r)=>e+r.boxHeight,0)},headerRowsFirst(){const e=this.headerRows[0],t=[Object.assign({},e.columns[0],{rowspan:1,colspan:1})];return[{...e,columns:t,boxHeight:this.headerHeight,height:`${this.headerHeight}px`}]},rowColumnsFirst(){return[this.rowColumns[0]]},firstColumnSize(){const e=this.headerRowsFirst[0].height;return{width:this.headerRows[0].columns[0].width,height:e}}},methods:{resetSorts(e){const r=t=>{t.forEach(s=>{e.key!==s.key&&(s.sortApplied=!1,s.sortAscending=!1),s.columns&&r(s.columns)})};r(this.currentColumns)},applySort(e){this.resetSorts(e),e.sortApplied?e.sortAscending=!e.sortAscending:e.sortApplied=!0,this.$emit("column-sort",e)},onColumnResize(){this.sizesPainted&&this.refresh()},headerAdded(e){this.columnResizeObserver.observe(e)},headerRemoved(e){this.columnResizeObserver.unobserve(e)},resolveClasses(e,r=null){if(!(typeof e>"u"))return typeof e=="function"?e(r):e},syncScrollLeft(){const e=this.$refs.display.scrollLeft;this.$refs.header.$el.style.transform=`translateX(-${e}px)`},checkOverflowX(){this.overflownX=this.$refs.display.scrollWidth>this.$refs.display.clientWidth},checkScrollability(){if(!this.overflownX)return;const e=this.$refs.display;this.canScrollLeft=e.scrollLeft>0,this.canScrollRight=e.clientWidth+e.scrollLeft<e.scrollWidth},createColumns(){const e=this.idCreator("c"),r=Yo(this.columns),t=(s,n)=>{s.id=e(),s.parent=n,s.width="auto",s.boxWidth=null,s.sortApplied=!1,s.sortAscending=!1,s.sortFocused=!1;let o=[];n&&(n.headers&&n.headers.length?o=[...n.headers]:o.push(n.id)),o.push(s.id),s.headers=o,s.columns?s.columns.forEach(l=>t(l,s)):!s.key&&!s.value&&!s.slot&&console.warn("UluTableSticky: Missing 'key', 'value' or 'slot' in column configuration for",s)};return r.forEach(s=>t(s,null)),r},createHeaderRows(e){const r=this.idCreator("hr"),t=e.reduce(this.maxColumnChildren,1),s="auto",n=new Array(t).fill(null).map(()=>({height:s,boxHeight:null,columns:[],id:r()}));function o(l,c){const i=c.columns;i&&i.forEach(a=>o(1+l,a)),c.rowspan=i?1:t-l,c.colspan=i?i.reduce((a,m)=>a+m.colspan,0):1,n[l].columns.push(c)}return e.forEach(l=>o(0,l)),n},createRows(e){const r=this.idCreator(e?"fr":"br"),t=e?this.footerRows:this.rows;return t?t.map(s=>({height:null,boxHeight:null,data:s,id:r()})):[]},onResize(){const e=et();Le!==e&&(Le=e,this.resizing?(this.resizing=!1,this.setTableSizes(),this.checkOverflowX(),this.syncScrollLeft()):(this.resizing=!0,this.removeTableSizes()))},refresh(){this.removeTableSizes(),this.$nextTick(()=>{this.setTableSizes(),this.checkOverflowX(),this.checkScrollability(),this.syncScrollLeft()})},onScrollX(){this.checkScrollability(),this.syncScrollLeft()},idCreator(e){let r=0;return()=>`${this.idPrefix}-${e}-${++r}`},maxColumnChildren(e,r){const t=r.columns?r.columns.reduce(this.maxColumnChildren)+1:1;return e>t?e:t},attachHandlers(){this.handlerScrollX=this.onScrollX,this.$refs.display.addEventListener("scroll",this.handlerScrollX),this.scrollContext.addEventListener("touchmove",this.handlerScrollY),window.addEventListener("resize",this.resizeHandler)},removeHandlers(){this.$refs.display.removeEventListener("scroll",this.handlerScrollX),this.scrollContext.removeEventListener("scroll",this.handlerScrollY),this.scrollContext.addEventListener("touchmove",this.handlerScrollY),window.removeEventListener("resize",this.resizeHandler)},removeTableSizes(){this.sizesPainted=!1,this.sizesCalculated=!1;const e=r=>{r.boxHeight=null,r.height="auto"};this.tableWidth="auto",this.headerRows.forEach(r=>{e(r),r.columns.forEach(t=>{t.boxWidth=null,t.width="auto"})}),this.firstColumnSticky&&(this.currentRows.forEach(r=>e(r)),this.currentFooterRows.forEach(r=>e(r)))},scrollLeft(){const e=this.$refs.display,r=e.scrollLeft,t=this.scrollControlAmount,s=r-t;e.scroll({left:s<0?0:s,behavior:"smooth"})},scrollRight(){const e=this.$refs.display,r=e.scrollWidth,t=e.scrollLeft,s=this.scrollControlAmount,n=t+s;e.scroll({left:n>r?e.scrollWidth:n,behavior:"smooth"})},setTableSizes(){const e=(s,n)=>Math.ceil(s.getBoundingClientRect()[n]);this.tableWidth=`${e(this.$refs.table.$el,"width")}px`;const r=s=>document.getElementById(s.id),t=s=>{const n=r(s);n&&(s.boxHeight=e(n,"height"),s.height=`${s.boxHeight}px`)};this.headerRows.forEach(s=>{t(s),s.columns.forEach(n=>{const o=r(n);o&&(n.boxWidth=e(o,"width"),n.width=`${n.boxWidth}px`)})}),this.firstColumnSticky&&(this.currentRows.forEach(s=>t(s)),this.currentFooterRows.forEach(s=>t(s))),this.$nextTick(()=>{this.sizesCalculated=!0,it(()=>{this.sizesPainted=!0})})},tableReady(){this.setTableSizes()}},mounted(){this.attachHandlers(),this.checkOverflowX(),this.checkScrollability()},beforeUnmount(){this.removeHandlers()},unmounted(){this.columnResizeObserver.disconnect(),this.columnResizeObserver=null}},Jo={class:"table-sticky__sticky-wrap table-sticky__sticky-wrap--header"},Qo={class:"table-sticky__header-wrap"},Zo={class:"table-sticky__sticky-wrap table-sticky__sticky-wrap--first-column-header"},en={class:"table-sticky__sticky-wrap table-sticky__sticky-wrap--controls"},tn={key:2,class:"table-sticky__controls-inner"},rn=["disabled"],sn=["disabled"],on={ref:"display",class:"table-sticky__display"};function nn(e,r,t,s,n,o){const l=ze("UluTableStickyTable");return h(),f("div",{class:p(["table-sticky",{"table-sticky--overflown-x":n.overflownX,"table-sticky--can-scroll-right":n.canScrollRight,"table-sticky--can-scroll-left":n.canScrollLeft}])},[b("div",Jo,[b("div",Qo,[Y(l,{ref:"header",class:"table-sticky__table table-sticky__table--header",classes:t.classes,caption:t.caption,resolveClasses:o.resolveClasses,getColumnTitle:t.getColumnTitle,idPrefix:t.idPrefix,headerRows:n.headerRows,style:j({opacity:n.sizesCalculated?"1":"0",pointerEvents:n.sizesCalculated?"auto":"none",width:n.tableWidth}),onColumnSorted:o.applySort},P({_:2},[g(e.$slots,(c,i)=>({name:i,fn:S(a=>[y(e.$slots,i,x(E(a)))])}))]),1032,["classes","caption","resolveClasses","getColumnTitle","idPrefix","headerRows","style","onColumnSorted"])])]),b("div",Zo,[t.firstColumnSticky?(h(),V(l,{key:0,ref:"firstColumnHeader",class:"table-sticky__table table-sticky__table--first-column-header",classes:t.classes,caption:t.caption,resolveClasses:o.resolveClasses,getColumnTitle:t.getColumnTitle,idPrefix:t.idPrefix,headerRows:o.headerRowsFirst,style:j({opacity:o.headerOpacityX,pointerEvents:o.headerVisibleX?"auto":"none"}),onColumnSorted:o.applySort},P({_:2},[g(e.$slots,(c,i)=>({name:i,fn:S(a=>[y(e.$slots,i,x(E(a)))])}))]),1032,["classes","caption","resolveClasses","getColumnTitle","idPrefix","headerRows","style","onColumnSorted"])):B("",!0)]),b("div",en,[ot(b("div",{class:p(["table-sticky__controls",o.resolveClasses(t.classes.controls)]),ref:"controls"},[e.$slots.controls?y(e.$slots,"controls",{key:0,scrollLeft:o.scrollLeft,scrollRight:o.scrollRight,canScrollLeft:n.canScrollLeft,canScrollRight:n.canScrollRight}):t.controlsComponent?(h(),V(le(t.controlsComponent),{key:1,scrollLeft:o.scrollLeft,scrollRight:o.scrollRight,canScrollLeft:n.canScrollLeft,canScrollRight:n.canScrollRight},null,8,["scrollLeft","scrollRight","canScrollLeft","canScrollRight"])):(h(),f("div",tn,[b("button",{class:p(["table-sticky__control table-sticky__control--left",o.resolveClasses(t.classes.controlButton)]),"aria-label":"Scroll Left",onClick:r[0]||(r[0]=(...c)=>o.scrollLeft&&o.scrollLeft(...c)),disabled:!n.canScrollLeft},[y(e.$slots,"controlLeft",{},()=>[r[2]||(r[2]=F(" ← ",-1))])],10,rn),b("button",{class:p(["table-sticky__control table-sticky__control--right",o.resolveClasses(t.classes.controlButton)]),"aria-label":"Scroll Right",onClick:r[1]||(r[1]=(...c)=>o.scrollRight&&o.scrollRight(...c)),disabled:!n.canScrollRight},[y(e.$slots,"controlRight",{},()=>[r[3]||(r[3]=F(" → ",-1))])],10,sn)]))],2),[[nt,o.controlsShown]])]),b("div",on,[Y(l,{ref:"table",class:"table-sticky__table table-sticky__table--actual",classes:t.classes,resolveClasses:o.resolveClasses,isActual:"",headerRows:n.headerRows,rows:n.currentRows,footerRows:n.currentFooterRows,rowColumns:o.rowColumns,caption:t.caption,idPrefix:t.idPrefix,getRowValue:t.getRowValue,getColumnTitle:t.getColumnTitle,onVnodeMounted:o.tableReady,onActualHeaderRemoved:o.headerRemoved,onActualHeaderAdded:o.headerAdded,onColumnSorted:o.applySort},P({_:2},[g(e.$slots,(c,i)=>({name:i,fn:S(a=>[y(e.$slots,i,x(E(a)))])}))]),1032,["classes","resolveClasses","headerRows","rows","footerRows","rowColumns","caption","idPrefix","getRowValue","getColumnTitle","onVnodeMounted","onActualHeaderRemoved","onActualHeaderAdded","onColumnSorted"])],512),t.firstColumnSticky?(h(),V(l,{key:0,ref:"firstColumn",class:"table-sticky__table table-sticky__table--first-column",classes:t.classes,resolveClasses:o.resolveClasses,caption:t.caption,headerRows:o.headerRowsFirst,columnWidth:o.firstColumnSize.width,rows:n.currentRows,footerRows:n.currentFooterRows,rowColumns:o.rowColumnsFirst,idPrefix:t.idPrefix,getRowValue:t.getRowValue,getColumnTitle:t.getColumnTitle,style:j({opacity:o.headerOpacityX,pointerEvents:o.headerVisibleX?"auto":"none"}),onColumnSorted:o.applySort},P({_:2},[g(e.$slots,(c,i)=>({name:i,fn:S(a=>[y(e.$slots,i,x(E(a)))])}))]),1032,["classes","resolveClasses","caption","headerRows","columnWidth","rows","footerRows","rowColumns","idPrefix","getRowValue","getColumnTitle","style","onColumnSorted"])):B("",!0)],2)}const rt=ie(tt,[["render",nn]]);tt.__docgenInfo={displayName:"UluTableSticky",description:`Sticky table component
- Requires separate stylesheet (included in @ulu/frontend)
- Requires lodash/cloneDeep`,tags:{},exportName:"default",props:[{name:"allowClickClones",description:`By default you cannot have interactive items in the cloned sticky header and first column (if set)
this disables that feature. It was set up that way for accessibility`,type:{name:"boolean"}},{name:"classes",description:"Allows user to pass classes object to add custom classes to parts of the component",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"controlsComponent",description:`Allow user to pass components
- Passed the same values as if using a slot
-`,type:{name:"object"}},{name:"getRowValue",description:"Allows user to pass callback to get the row's value",type:{name:"func"}},{name:"getColumnTitle",type:{name:"func"}},{name:"caption",description:"Hidden caption for accessibility",type:{name:"string"}},{name:"columns",description:"Array of column configurations to convert to list output",tags:{property:[{title:"property",type:{name:"Object"},name:"column",description:"A column config"},{title:"property",type:{name:"union",elements:[{name:"String"},{name:"Boolean"}]},name:"column",description:".title The title to output for the column if set to a falsey value nothing will print"},{title:"property",type:{name:"Array"},name:"column",description:".columns Array of child columns"},{title:"property",type:{name:"String"},name:"column",description:".key The key that should be usec to grab column's value from rows"},{title:"property",type:{name:"Function"},name:"column",description:".value A function that returns the column's value used instead of key passed (row, column)"},{title:"property",type:{name:"String"},name:"column",description:".slot Register custom slot name to use as a template for this column. Passing a slot with this name will link them. The slot are passed the ({row, column}). Note this will disable output of the column's value"},{title:"property",type:{name:"String"},name:"column",description:".component Pass a component to use for this columns values (<td>)"},{title:"property",type:{name:"String"},name:"column",description:".componentHeader Pass a component to use for this columns header (<th>)"},{title:"property",type:{name:"String"},name:"column",description:".slotHeader Register custom slot name to use in the header"},{title:"property",type:{name:"String"},name:"column",description:".classHeader Custom class(s) to be set to column <th>"},{title:"property",type:{name:"String"},name:"column",description:".class Custom class(s) to be set to column's value <td>"},{title:"property",type:{name:"String"},name:"column",description:".html Use v-html output for value"},{title:"property",type:{name:"String"},name:"column",description:".rowHeader When this column is printed in the <tbody> it should be a header for the row. Note supports multiple row headers from left to right only. No rowspan support for rowHeaders."}]},type:{name:"array"}},{name:"firstColumnSticky",description:`Whether the first column of the table should be sticky
- Requires that the table's first column header is nested`,type:{name:"boolean"}},{name:"idPrefix",description:"Prefixed used for id generation",type:{name:"string"},defaultValue:{func:!1,value:'"DT"'}},{name:"rows",description:`Array of tables rows (tbody)
- Each row is an object who's value will matched to columns`,type:{name:"array"}},{name:"footerRows",description:"Array of rows for footer (tfoot)",type:{name:"array"}},{name:"scrollControls",description:`Enables the visibility of the scroll controls
- Scroll controls shift the tables x-axis when the table has overflow-x
- Can be templated manually using slot named "controlsButtons", slot needs to create layout and call methods 
  + scope = { scrollLeft, scrollRight, canScrollLeft, canScrollRight }
- Scroll controls are transformed with the header (move down as the user scrolls)`,type:{name:"boolean"}},{name:"scrollContext",description:`Scrollable context DOM Element, if the sticky element is within another
scrolling parent use this to change the scroll activation handler to use a custom
scrollable parent element`,type:{name:"func"},defaultValue:{func:!0,value:"() => SSR ? null : window"}},{name:"scrollControlAmount",description:"Amount to scroll when user uses scroll controls (pixels)",type:{name:"number"},defaultValue:{func:!1,value:"100"}}],events:[{name:"column-sort",type:{names:["undefined"]}}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"controls",scoped:!0,bindings:[{name:"scrollLeft",title:"binding"},{name:"scrollRight",title:"binding"},{name:"canScrollLeft",title:"binding"},{name:"canScrollRight",title:"binding"}]},{name:"controlLeft"},{name:"controlRight"}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/systems/table-sticky/UluTableSticky.vue"]};const an=[{key:"name",title:"Name"},{title:"Favorites",columns:[{key:"favoriteFruit",title:"Fruit"},{key:"favoriteColor",title:"Favorite Color"},{key:"favoriteFood",title:"Favorite Food"},{key:"favoriteActivity",title:"Favorite Activity"},{key:"favoriteSport",title:"Favorite Sport"},{key:"favoriteSeason",title:"Favorite Season"}]},{key:"size",title:"Size"}],ln=st(10,e=>({name:`Example Name ${e}`,favoriteFruit:"Apple",favoriteColor:"red",favoriteFood:"Chocolate",favoriteActivity:"I have many favorite activities, it can't be reduced to just one.",favoriteSport:"Rocket League",favoriteSeason:"Fall",size:6})),mn={component:rt,tags:["autodocs"]},cn=e=>({components:{UluTableSticky:rt},setup(){return{args:e}},template:'<UluTableSticky class="data-table" v-bind="args"></UluTableSticky>'}),M=cn.bind({});M.args={columns:an,rows:ln,caption:"Example Sticky Table",scrollControls:!0};M.parameters={...M.parameters,docs:{...M.parameters?.docs,source:{originalSource:`args => ({
  components: {
    UluTableSticky
  },
  setup() {
    return {
      args
    };
  },
  template: \`<UluTableSticky class="data-table" v-bind="args"></UluTableSticky>\`
})`,...M.parameters?.docs?.source}}};const yn=["Default"];export{M as Default,yn as __namedExportsOrder,mn as default};
