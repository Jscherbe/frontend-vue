import{l as j,Q as Z,a3 as se,Z as ae,c as P,D as re,B as Y,d as F,b as le,f as ce,e as q,n as $,a4 as de,o as Q,j as ue,t as fe}from"./iframe-CSRVEcn3.js";const z=new Set,u=new WeakMap,C=new WeakMap,h=new WeakMap,W=new WeakMap,V=new WeakMap,_=new WeakMap,T=new WeakMap,O=new WeakMap,x=new WeakSet;let g,R=0,H=0;const w="__aa_tgt",N="__aa_del",A="__aa_new",J=e=>{const t=he(e);t&&t.forEach(n=>ve(n))},pe=e=>{e.forEach(t=>{t.target===g&&ge(),u.has(t.target)&&M(t.target)})};function ee(e){const t=e.getBoundingClientRect(),n=g?.clientWidth||0,i=g?.clientHeight||0;return t.bottom<0||t.top>i||t.right<0||t.left>n}function D(e){const t=W.get(e);t?.disconnect();let n=u.get(e),i=0;const o=5;n||(n=B(e),u.set(e,n));const{offsetWidth:s,offsetHeight:a}=g,c=[n.top-o,s-(n.left+o+n.width),a-(n.top+o+n.height),n.left-o].map(d=>`${-1*Math.floor(d)}px`).join(" "),r=new IntersectionObserver(()=>{++i>1&&M(e)},{root:g,threshold:1,rootMargin:c});r.observe(e),W.set(e,r)}function M(e,t=!0){clearTimeout(O.get(e));const n=L(e),i=t?S(n)?500:n.duration:0;O.set(e,setTimeout(async()=>{const o=h.get(e);try{await o?.finished,u.set(e,B(e)),D(e)}catch{}},i))}function ge(){clearTimeout(O.get(g)),O.set(g,setTimeout(()=>{z.forEach(e=>k(e,t=>te(()=>M(t))))},100))}function me(e){setTimeout(()=>{_.set(e,setInterval(()=>te(M.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function te(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let y;const ne=typeof window<"u"&&"ResizeObserver"in window;ne&&(g=document.documentElement,new MutationObserver(J),y=new ResizeObserver(pe),window.addEventListener("scroll",()=>{H=window.scrollY,R=window.scrollX}),y.observe(g));function he(e){return e.reduce((i,o)=>[...i,...Array.from(o.addedNodes),...Array.from(o.removedNodes)],[]).every(i=>i.nodeName==="#comment")?!1:e.reduce((i,o)=>{if(i===!1)return!1;if(o.target instanceof Element){if(I(o.target),!i.has(o.target)){i.add(o.target);for(let s=0;s<o.target.children.length;s++){const a=o.target.children.item(s);if(a){if(N in a)return!1;I(o.target,a),i.add(a)}}}if(o.removedNodes.length)for(let s=0;s<o.removedNodes.length;s++){const a=o.removedNodes[s];if(N in a)return!1;a instanceof Element&&(i.add(a),I(o.target,a),C.set(a,[o.previousSibling,o.nextSibling]))}}return i},new Set)}function I(e,t){!t&&!(w in e)?Object.defineProperty(e,w,{value:e}):t&&!(w in t)&&Object.defineProperty(t,w,{value:e})}function ve(e){var t,n;const i=e.isConnected,o=u.has(e);i&&C.has(e)&&C.delete(e),((t=h.get(e))===null||t===void 0?void 0:t.playState)!=="finished"&&((n=h.get(e))===null||n===void 0||n.cancel()),A in e?K(e):o&&i?ye(e):o&&!i?we(e):K(e)}function v(e){return Number(e.replace(/[^0-9.\-]/g,""))}function be(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function B(e){const t=e.getBoundingClientRect(),{x:n,y:i}=be(e);return{top:t.top+i,left:t.left+n,width:t.width,height:t.height}}function oe(e,t,n){let i=t.width,o=t.height,s=n.width,a=n.height;const l=getComputedStyle(e);if(l.getPropertyValue("box-sizing")==="content-box"){const r=v(l.paddingTop)+v(l.paddingBottom)+v(l.borderTopWidth)+v(l.borderBottomWidth),d=v(l.paddingLeft)+v(l.paddingRight)+v(l.borderRightWidth)+v(l.borderLeftWidth);i-=d,s-=d,o-=r,a-=r}return[i,s,o,a].map(Math.round)}function L(e){return w in e&&T.has(e[w])?T.get(e[w]):{duration:250,easing:"ease-in-out"}}function ie(e){if(w in e)return e[w]}function U(e){const t=ie(e);return t?x.has(t):!1}function k(e,...t){t.forEach(n=>n(e,T.has(e)));for(let n=0;n<e.children.length;n++){const i=e.children.item(n);i&&t.forEach(o=>o(i,T.has(i)))}}function X(e){return Array.isArray(e)?e:[e]}function S(e){return typeof e=="function"}function ye(e){const t=u.get(e),n=B(e);if(!U(e))return u.set(e,n);if(ee(e)){u.set(e,n),D(e);return}let i;if(!t)return;const o=L(e);if(typeof o!="function"){let s=t.left-n.left,a=t.top-n.top;const l=t.left+t.width-(n.left+n.width);t.top+t.height-(n.top+n.height)==0&&(a=0),l==0&&(s=0);const[r,d,b,p]=oe(e,t,n),m={transform:`translate(${s}px, ${a}px)`},f={transform:"translate(0, 0)"};r!==d&&(m.width=`${r}px`,f.width=`${d}px`),b!==p&&(m.height=`${b}px`,f.height=`${p}px`),i=e.animate([m,f],{duration:o.duration,easing:o.easing})}else{const[s]=X(o(e,"remain",t,n));i=new Animation(s),i.play()}h.set(e,i),u.set(e,n),i.addEventListener("finish",M.bind(null,e,!1),{once:!0})}function K(e){A in e&&delete e[A];const t=B(e);u.set(e,t);const n=L(e);if(!U(e))return;if(ee(e)){D(e);return}let i;if(typeof n!="function")i=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[o]=X(n(e,"add",t));i=new Animation(o),i.play()}h.set(e,i),i.addEventListener("finish",M.bind(null,e,!1),{once:!0})}function G(e,t){var n;e.remove(),u.delete(e),C.delete(e),h.delete(e),(n=W.get(e))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(N in e&&delete e[N],Object.defineProperty(e,A,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const i in t)e.style[i]=""},0)}function we(e){var t;if(!C.has(e)||!u.has(e))return;const[n,i]=C.get(e);Object.defineProperty(e,N,{value:!0,configurable:!0});const o=window.scrollX,s=window.scrollY;if(i&&i.parentNode&&i.parentNode instanceof Element?i.parentNode.insertBefore(e,i):n&&n.parentNode?n.parentNode.appendChild(e):(t=ie(e))===null||t===void 0||t.appendChild(e),!U(e))return G(e);const[a,l,c,r]=Ee(e),d=L(e),b=u.get(e);(o!==R||s!==H)&&Oe(e,o,s,d);let p,m={position:"absolute",top:`${a}px`,left:`${l}px`,width:`${c}px`,height:`${r}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!S(d))Object.assign(e.style,m),p=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:d.duration,easing:"ease-out"});else{const[f,E]=X(d(e,"remove",b));E?.styleReset!==!1&&(m=E?.styleReset||m,Object.assign(e.style,m)),p=new Animation(f),p.play()}h.set(e,p),p.addEventListener("finish",()=>G(e,m),{once:!0})}function Oe(e,t,n,i){const o=R-t,s=H-n,a=document.documentElement.style.scrollBehavior;if(getComputedStyle(g).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+o,window.scrollY+s),!e.parentElement)return;const c=e.parentElement;let r=c.clientHeight,d=c.clientWidth;const b=performance.now();function p(){requestAnimationFrame(()=>{if(!S(i)){const m=r-c.clientHeight,f=d-c.clientWidth;b+i.duration>performance.now()?(window.scrollTo({left:window.scrollX-f,top:window.scrollY-m}),r=c.clientHeight,d=c.clientWidth,p()):document.documentElement.style.scrollBehavior=a}})}p()}function Ee(e){var t;const n=u.get(e),[i,,o]=oe(e,n,B(e));let s=e.parentElement;for(;s&&(getComputedStyle(s).position==="static"||s instanceof HTMLBodyElement);)s=s.parentElement;s||(s=document.body);const a=getComputedStyle(s),l=!h.has(e)||((t=h.get(e))===null||t===void 0?void 0:t.playState)==="finished"?B(s):u.get(s),c=Math.round(n.top-l.top)-v(a.borderTopWidth),r=Math.round(n.left-l.left)-v(a.borderLeftWidth);return[c,r,i,o]}function Te(e,t={}){if(ne&&y&&!(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!S(t)&&!t.disrespectUserMotionPreference)){x.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),k(e,M,me,a=>y?.observe(a)),S(t)?T.set(e,t):T.set(e,{duration:250,easing:"ease-in-out",...t});const s=new MutationObserver(J);s.observe(e,{childList:!0}),V.set(e,s),z.add(e)}return Object.freeze({parent:e,enable:()=>{x.add(e)},disable:()=>{x.delete(e),k(e,i=>{const o=h.get(i);try{o?.cancel()}catch{}h.delete(i);const s=O.get(i);s&&clearTimeout(s),O.delete(i);const a=_.get(i);a&&clearInterval(a),_.delete(i)})},isEnabled:()=>x.has(e),destroy:()=>{x.delete(e),z.delete(e),T.delete(e);const i=V.get(e);i?.disconnect(),V.delete(e),k(e,o=>{y?.unobserve(o);const s=h.get(o);try{s?.cancel()}catch{}h.delete(o);const a=W.get(o);a?.disconnect(),W.delete(o);const l=_.get(o);l&&clearInterval(l),_.delete(o);const c=O.get(o);c&&clearTimeout(c),O.delete(o),u.delete(o),C.delete(o)})}})}function Ce(e){const t=j();let n;function i(o){n&&(o?n.enable():n.disable())}return Z(()=>{se(o=>{let s;t.value instanceof HTMLElement?s=t.value:t.value&&"$el"in t.value&&t.value.$el instanceof HTMLElement&&(s=t.value.$el),s&&(n=Te(s,e||{}),o(()=>{var a;(a=n?.destroy)===null||a===void 0||a.call(n),n=void 0}))})}),ae(()=>{var o;(o=n?.destroy)===null||o===void 0||o.call(n),n=void 0}),[t,i]}const Me=["id","aria-controls","aria-expanded"],xe=["id","aria-hidden","aria-labelledby"],Be={__name:"UluCollapsible",props:{modelValue:{type:Boolean,default:void 0},triggerText:String,closeOnEscape:Boolean,startOpen:Boolean,animate:{type:[Boolean,Object],default:!0},classes:{type:Object,default:()=>({container:"ulu-collapsible",trigger:"ulu-collapsible__trigger",content:"ulu-collapsible__content",containerOpen:"ulu-collapsible--open",containerClosed:"ulu-collapsible--closed"})}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,o=P(()=>typeof n.animate=="object"?n.animate:{}),[s,a]=Ce(o);Z(()=>{a(!!n.animate)}),re(()=>n.animate,f=>{a(!!f)});const l=P(()=>n.modelValue!==void 0),c=j(n.startOpen),r=P({get(){return l.value?n.modelValue:c.value},set(f){l.value?i("update:modelValue",f):c.value=f}}),d=j(Y("ulu-collapsible-trigger")),b=j(Y("ulu-collapsible-content"));function p(){r.value=!r.value}function m(){n.closeOnEscape&&r.value&&(r.value=!1)}return(f,E)=>(Q(),F("div",{ref_key:"container",ref:s,onKeydown:de(m,["esc"]),class:$([e.classes.container,r.value?e.classes.containerOpen:e.classes.containerClosed])},[le("button",{class:$(e.classes.trigger),id:d.value,"aria-controls":b.value,"aria-expanded":r.value,onClick:p},[q(f.$slots,"trigger",{isOpen:r.value},()=>[ue(fe(e.triggerText),1)])],10,Me),r.value?(Q(),F("div",{key:0,class:$(e.classes.content),tabindex:"-1",id:b.value,"aria-hidden":!r.value,"aria-labelledby":d.value},[q(f.$slots,"default",{isOpen:r.value,toggle:p})],10,xe)):ce("",!0)],34))}};Be.__docgenInfo={exportName:"default",displayName:"UluCollapsible",description:"",tags:{},props:[{name:"modelValue",description:"v-model for controlling open state",type:{name:"boolean"},defaultValue:{func:!1,value:"undefined"}},{name:"triggerText",description:"Set text for trigger (instead of using slot)",type:{name:"string"}},{name:"closeOnEscape",description:"Closes with escape key",type:{name:"boolean"}},{name:"startOpen",description:"When the component is shown it should start visible or hidden",type:{name:"boolean"}},{name:"animate",description:"Enable or configure animations.\n- `true` to enable animations with default settings (default)\n- `false` (disable)\n- An object to provide custom options to auto-animate (e.g., { duration: 100, easing: 'linear' }).",type:{name:"boolean|object"},defaultValue:{func:!1,value:"true"}},{name:"classes",description:`Classes for elements ({ container, trigger, content })
- Any valid class binding value per element`,type:{name:"object"},defaultValue:{func:!1,value:`{
  container: 'ulu-collapsible',
  trigger: 'ulu-collapsible__trigger',
  content: 'ulu-collapsible__content',
  containerOpen: 'ulu-collapsible--open',
  containerClosed: 'ulu-collapsible--closed'
}`}}],events:[{name:"update:modelValue"}],slots:[{name:"trigger",scoped:!0,bindings:[{name:"isOpen",title:"binding"}]},{name:"default",scoped:!0,bindings:[{name:"isOpen",title:"binding"},{name:"toggle",title:"binding"}]}],sourceFiles:["/Users/joescherben/Personal/Projects/ULU/frontend-vue/lib/components/collapsible/UluCollapsible.vue"]};export{Be as _};
