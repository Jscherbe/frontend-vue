import{a2 as P,a3 as q,a4 as c,a5 as I}from"./iframe-dKJzZ57-.js";function d(f,p){const h=P(),m=q(),i=c(()=>{const e=parseInt(h.query.page||"1",10);return isNaN(e)||e<1?1:e}),n=c(()=>!f.value||f.value.length===0?1:Math.ceil(f.value.length/p));I(n,e=>{i.value>e&&m.push({query:{...h.query,page:e}})});const x=c(()=>{const e=(i.value-1)*p,t=e+p;return f.value.slice(e,t)}),g=c(()=>{if(n.value<=1)return null;const e={pages:{}},t=i.value,a=n.value,s=5,u=r=>({query:{...h.query,page:r}});t>1&&(e.first={href:u(1)},e.previous={href:u(t-1)}),t<a&&(e.next={href:u(t+1)},e.last={href:u(a)});let o,l;if(a<=s)o=1,l=a;else{const r=Math.floor(s/2),v=Math.ceil(s/2)-1;t<=r?(o=1,l=s):t+v>=a?(o=a-s+1,l=a):(o=t-r,l=t+v)}for(let r=o;r<=l;r++)e.pages[r]={href:u(r)};return e}),y=c(()=>{const e={previous:!1,next:!1};if(!g.value||!g.value.pages)return e;const t=Object.keys(g.value.pages).map(Number);if(t.length===0)return e;const a=Math.min(...t),s=Math.max(...t);return a>1&&(e.previous=!0),s<n.value&&(e.next=!0),e});return{currentPage:i,totalPages:n,paginatedItems:x,pagerItems:g,pagerEllipses:y}}export{d as u};
