import{computed as n,onMounted as V,watch as x,ref as o,createElementBlock as p,openBlock as g,normalizeClass as s,withKeys as B,createElementVNode as k,createCommentVNode as E,renderSlot as f,createTextVNode as A,toDisplayString as I}from"vue";import{useAutoAnimate as j}from"../../node_modules/@formkit/auto-animate/vue/index.js";import{newId as v}from"../../utils/dom.js";const w=["id","aria-controls","aria-expanded"],N=["id","aria-hidden","aria-labelledby"],z={__name:"UluCollapsible",props:{modelValue:{type:Boolean,default:void 0},triggerText:String,closeOnEscape:Boolean,startOpen:Boolean,animate:{type:[Boolean,Object],default:!0},classes:{type:Object,default:()=>({container:"ulu-collapsible",trigger:"ulu-collapsible__trigger",content:"ulu-collapsible__content",containerOpen:"ulu-collapsible--open",containerClosed:"ulu-collapsible--closed"})}},emits:["update:modelValue"],setup(a,{emit:b}){const t=a,O=b,y=n(()=>typeof t.animate=="object"?t.animate:{}),[h,i]=j(y);V(()=>{i(!!t.animate)}),x(()=>t.animate,l=>{i(!!l)});const c=n(()=>t.modelValue!==void 0),r=o(t.startOpen),e=n({get(){return c.value?t.modelValue:r.value},set(l){c.value?O("update:modelValue",l):r.value=l}}),u=o(v("ulu-collapsible-trigger")),d=o(v("ulu-collapsible-content"));function m(){e.value=!e.value}function C(){t.closeOnEscape&&e.value&&(e.value=!1)}return(l,S)=>(g(),p("div",{ref_key:"container",ref:h,onKeydown:B(C,["esc"]),class:s([a.classes.container,e.value?a.classes.containerOpen:a.classes.containerClosed])},[k("button",{class:s(a.classes.trigger),id:u.value,"aria-controls":d.value,"aria-expanded":e.value,onClick:m},[f(l.$slots,"trigger",{isOpen:e.value},()=>[A(I(a.triggerText),1)])],10,w),e.value?(g(),p("div",{key:0,class:s(a.classes.content),tabindex:"-1",id:d.value,"aria-hidden":!e.value,"aria-labelledby":u.value},[f(l.$slots,"default",{isOpen:e.value,toggle:m})],10,N)):E("",!0)],34))}};export{z as default};
