import{createElementBlock as d,openBlock as l,Fragment as p,renderList as x,createBlock as m,withCtx as r,createVNode as o,createCommentVNode as b,normalizeClass as N,createTextVNode as f,toDisplayString as u,renderSlot as V}from"vue";import h from"./UluFacetsList.vue.js";import y from"../../collapsible/UluAccordion.vue.js";const k={class:"facets-filters"},C={__name:"UluFacetsFilterAccordions",props:{classes:{type:Object,default:()=>({})},maxVisible:{type:Number,default:5},facets:{type:Array,default:()=>[]},compact:Boolean,accordionModifiers:[String,Array]},emits:["facet-change"],setup(i,{emit:g}){const n=g,s=c=>c.multiple?c.children.filter(t=>t.selected).map(t=>t.uid):c.children.find(t=>t.selected)?.uid||"";return(c,t)=>(l(),d("div",k,[(l(!0),d(p,null,x(i.facets,e=>(l(),m(y,{key:e.uid,modifiers:i.accordionModifiers,startOpen:e.open},{trigger:r(({isOpen:a})=>[V(c.$slots,"groupTrigger",{group:e,isOpen:a},()=>[f(u(e.name),1)])]),default:r(()=>[o(h,{children:e.children.slice(0,i.maxVisible),groupUid:e.uid,groupName:e.name,type:e.multiple?"checkbox":"radio",compact:i.compact,"model-value":s(e),onFacetChange:t[0]||(t[0]=a=>n("facet-change",a))},null,8,["children","groupUid","groupName","type","compact","model-value"]),e.children.length>i.maxVisible?(l(),m(y,{key:0,class:N(["facets-filters__more-facets",i.classes.moreFacets]),modifiers:i.accordionModifiers},{trigger:r(({isOpen:a})=>[f(u(a?"View Less":"Show More"),1)]),default:r(()=>[o(h,{children:e.children.slice(i.maxVisible),groupUid:e.uid,groupName:e.name,type:e.multiple?"checkbox":"radio",compact:i.compact,"model-value":s(e),onFacetChange:t[1]||(t[1]=a=>n("facet-change",a))},null,8,["children","groupUid","groupName","type","compact","model-value"])]),_:2},1032,["class","modifiers"])):b("",!0)]),_:2},1032,["modifiers","startOpen"]))),128))]))}};export{C as default};
